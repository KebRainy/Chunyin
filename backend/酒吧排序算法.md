**BarRankingAlgorithm (酒吧排序算法)**
```java
类职责: 酒吧推荐排序算法

核心方法:
+ rankBars(bars, userLocation, preferences): List<BarRecommendationResult>
  功能: 对酒吧列表进行排序
  逻辑:
    1. 计算每个酒吧的距离分数
    2. 计算每个酒吧的质量分数
    3. 综合计算最终分数
    4. 排序返回

+ calculateDistance(point1, point2): double
  功能: 计算两点距离(Haversine公式)

+ calculateQualityScore(bar): double
  功能: 计算酒吧质量分数
  公式:
    质量分 = avgRating / 5.0 × 0.7 + 
             min(reviewCount, 100) / 100 × 0.3

+ calculateCompositeScore(distance, quality, distanceWeight, qualityWeight): double
  功能: 计算综合分数
  公式:
    综合分 = distanceWeight × (1 - 归一化距离) + 
             qualityWeight × 质量分
    
    默认权重: distanceWeight=0.6, qualityWeight=0.4

设计要点:
- 平衡距离和质量两个因素
- 权重可根据用户偏好调整
- 评价数量也纳入考虑(避免评价少的酒吧分数虚高)
```