{"version":3,"file":"js/481.80c13581.js","mappings":"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","sources":["webpack://Chunyin/./src/views/activity/ActivityDetail.vue","webpack://Chunyin/./src/views/activity/ActivityDetail.vue?078d","webpack://Chunyin/./src/api/activity.js"],"sourcesContent":["<template>\n  <div class=\"activity-detail\">\n    <div v-loading=\"loading\" class=\"detail-container\">\n      <el-button @click=\"$router.back()\" style=\"margin-bottom: 20px\">返回</el-button>\n\n      <el-card v-if=\"activity\" class=\"activity-card\">\n        <template #header>\n          <div class=\"card-header\">\n            <h2>{{ activity.beverageName }} 组局</h2>\n            <el-tag :type=\"getStatusType(activity.status)\">\n              {{ getStatusText(activity.status) }}\n            </el-tag>\n          </div>\n        </template>\n\n        <div class=\"activity-info\">\n          <div class=\"info-item\">\n            <el-icon><Clock /></el-icon>\n            <span class=\"label\">活动时间：</span>\n            <span>{{ formatDateTime(activity.activityTime) }}</span>\n          </div>\n\n          <div v-if=\"activity.barName\" class=\"info-item\">\n            <el-icon><LocationFilled /></el-icon>\n            <span class=\"label\">酒吧：</span>\n            <span>{{ activity.barName }}</span>\n            <span v-if=\"activity.barAddress\" class=\"address\">（{{ activity.barAddress }}）</span>\n          </div>\n\n          <div class=\"info-item\">\n            <el-icon><User /></el-icon>\n            <span class=\"label\">参与人数：</span>\n            <span>{{ activity.currentParticipants }} / {{ activity.maxParticipants }} 人</span>\n          </div>\n\n          <div class=\"info-item\">\n            <el-icon><UserFilled /></el-icon>\n            <span class=\"label\">发起者：</span>\n            <span>{{ activity.organizerName }}</span>\n          </div>\n\n          <div v-if=\"activity.remark\" class=\"info-item remark\">\n            <span class=\"label\">备注：</span>\n            <p>{{ activity.remark }}</p>\n          </div>\n\n          <div v-if=\"activity.reviewStatus === 'PENDING'\" class=\"review-status\">\n            <el-alert type=\"warning\" :closable=\"false\">活动待审核中</el-alert>\n          </div>\n\n          <div v-if=\"activity.reviewStatus === 'REJECTED'\" class=\"review-status\">\n            <el-alert type=\"error\" :closable=\"false\">活动审核未通过</el-alert>\n          </div>\n        </div>\n\n        <div class=\"action-buttons\">\n          <el-button\n            v-if=\"activity.reviewStatus === 'APPROVED' && !activity.isParticipated && !activity.isOrganizer && !activity.isFinished\"\n            type=\"primary\"\n            :disabled=\"activity.currentParticipants >= activity.maxParticipants\"\n            @click=\"handleJoin\"\n            :loading=\"actionLoading\"\n          >\n            {{ activity.currentParticipants >= activity.maxParticipants ? '人数已满' : '参与活动' }}\n          </el-button>\n\n          <el-button\n            v-if=\"activity.isParticipated && !activity.isOrganizer && !activity.isFinished\"\n            type=\"danger\"\n            @click=\"handleCancel\"\n            :loading=\"actionLoading\"\n          >\n            取消参与\n          </el-button>\n\n          <el-button\n            v-if=\"activity.isFinished && activity.isParticipated\"\n            type=\"success\"\n            @click=\"goToReview\"\n          >\n            写评价\n          </el-button>\n        </div>\n      </el-card>\n\n      <el-card v-if=\"activity && activity.reviewStatus === 'APPROVED'\" class=\"participants-card\">\n        <template #header>\n          <h3>参与者列表（{{ activity.currentParticipants }}人）</h3>\n        </template>\n        <div class=\"participants-list\">\n          <div v-for=\"participant in participants\" :key=\"participant.id\" class=\"participant-item\">\n            <el-avatar :src=\"participant.avatar\" :size=\"40\">\n              {{ participant.name?.charAt(0) }}\n            </el-avatar>\n            <span class=\"participant-name\">{{ participant.name }}</span>\n            <el-tag v-if=\"participant.id === activity.organizerId\" type=\"primary\" size=\"small\">\n              发起者\n            </el-tag>\n          </div>\n        </div>\n      </el-card>\n    </div>\n  </div>\n</template>\n\n<script setup>\nimport { ref, onMounted } from 'vue'\nimport { useRoute, useRouter } from 'vue-router'\nimport { ElMessage, ElMessageBox } from 'element-plus'\nimport { Clock, LocationFilled, User, UserFilled } from '@element-plus/icons-vue'\nimport { getActivityById, joinActivity, cancelJoinActivity } from '@/api/activity'\n\nconst route = useRoute()\nconst router = useRouter()\n\nconst loading = ref(false)\nconst actionLoading = ref(false)\nconst activity = ref(null)\nconst participants = ref([])\n\n// 加载活动详情\nconst loadActivityDetail = async () => {\n  loading.value = true\n  try {\n    const res = await getActivityById(route.params.id)\n    if (res.code === 200) {\n      activity.value = res.data\n      // TODO: 加载参与者列表\n      // loadParticipants()\n    }\n  } catch (error) {\n    ElMessage.error('加载活动详情失败')\n  } finally {\n    loading.value = false\n  }\n}\n\n// 参与活动\nconst handleJoin = async () => {\n  try {\n    await ElMessageBox.confirm('确定要参与此活动吗？', '提示', {\n      confirmButtonText: '确定',\n      cancelButtonText: '取消',\n      type: 'info'\n    })\n\n    actionLoading.value = true\n    try {\n      const res = await joinActivity(route.params.id)\n      if (res.code === 200) {\n        ElMessage.success('参与成功')\n        await loadActivityDetail()\n      }\n    } catch (error) {\n      ElMessage.error(error.response?.data?.message || '参与失败')\n    } finally {\n      actionLoading.value = false\n    }\n  } catch {\n    // 用户取消\n  }\n}\n\n// 取消参与\nconst handleCancel = async () => {\n  try {\n    await ElMessageBox.confirm('确定要取消参与此活动吗？', '提示', {\n      confirmButtonText: '确定',\n      cancelButtonText: '取消',\n      type: 'warning'\n    })\n\n    actionLoading.value = true\n    try {\n      const res = await cancelJoinActivity(route.params.id)\n      if (res.code === 200) {\n        ElMessage.success('已取消参与')\n        await loadActivityDetail()\n      }\n    } catch (error) {\n      ElMessage.error(error.response?.data?.message || '取消参与失败')\n    } finally {\n      actionLoading.value = false\n    }\n  } catch {\n    // 用户取消\n  }\n}\n\n// 跳转到评价页面\nconst goToReview = () => {\n  // TODO: 实现评价功能\n  ElMessage.info('评价功能开发中')\n}\n\n// 格式化日期时间\nconst formatDateTime = (dateTime) => {\n  if (!dateTime) return ''\n  const date = new Date(dateTime)\n  return date.toLocaleString('zh-CN', {\n    year: 'numeric',\n    month: '2-digit',\n    day: '2-digit',\n    hour: '2-digit',\n    minute: '2-digit'\n  })\n}\n\n// 获取状态文本\nconst getStatusText = (status) => {\n  const statusMap = {\n    PENDING: '待审核',\n    APPROVED: '已通过',\n    REJECTED: '已拒绝',\n    ONGOING: '进行中',\n    FINISHED: '已结束',\n    CANCELLED: '已取消'\n  }\n  return statusMap[status] || status\n}\n\n// 获取状态类型\nconst getStatusType = (status) => {\n  const typeMap = {\n    PENDING: 'warning',\n    APPROVED: 'success',\n    REJECTED: 'danger',\n    ONGOING: 'primary',\n    FINISHED: 'info',\n    CANCELLED: 'info'\n  }\n  return typeMap[status] || ''\n}\n\nonMounted(() => {\n  loadActivityDetail()\n})\n</script>\n\n<style scoped>\n.activity-detail {\n  padding: 20px;\n  max-width: 1000px;\n  margin: 0 auto;\n}\n\n.detail-container {\n  min-height: 400px;\n}\n\n.activity-card {\n  margin-bottom: 20px;\n}\n\n.card-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n}\n\n.card-header h2 {\n  margin: 0;\n}\n\n.activity-info {\n  padding: 20px 0;\n}\n\n.info-item {\n  display: flex;\n  align-items: center;\n  margin-bottom: 15px;\n  gap: 10px;\n}\n\n.info-item .label {\n  font-weight: bold;\n  color: #666;\n}\n\n.info-item.remark {\n  flex-direction: column;\n  align-items: flex-start;\n}\n\n.info-item.remark p {\n  margin: 5px 0 0 0;\n  color: #666;\n}\n\n.review-status {\n  margin-top: 20px;\n}\n\n.action-buttons {\n  margin-top: 20px;\n  display: flex;\n  gap: 10px;\n}\n\n.participants-card {\n  margin-top: 20px;\n}\n\n.participants-list {\n  display: flex;\n  flex-wrap: wrap;\n  gap: 15px;\n}\n\n.participant-item {\n  display: flex;\n  align-items: center;\n  gap: 10px;\n  padding: 10px;\n  border: 1px solid #e4e7ed;\n  border-radius: 4px;\n  min-width: 150px;\n}\n\n.participant-name {\n  flex: 1;\n  font-weight: 500;\n}\n</style>\n\n","import script from \"./ActivityDetail.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./ActivityDetail.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./ActivityDetail.vue?vue&type=style&index=0&id=0a862a67&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-0a862a67\"]])\n\nexport default __exports__","import request from './request'\n\n/**\n * 创建活动\n */\nexport const createActivity = (data) => {\n  return request({\n    url: '/activities',\n    method: 'post',\n    data\n  })\n}\n\n/**\n * 根据酒类标签推荐酒吧\n */\nexport const recommendBarsByAlcoholIds = (alcoholIds, latitude, longitude, limit = 10) => {\n  // 严格验证参数\n  if (!alcoholIds) {\n    return Promise.reject(new Error('请至少选择一个酒类标签'))\n  }\n  if (!Array.isArray(alcoholIds)) {\n    return Promise.reject(new Error('alcoholIds必须是数组'))\n  }\n  if (alcoholIds.length === 0) {\n    return Promise.reject(new Error('请至少选择一个酒类标签'))\n  }\n  \n  // 过滤掉无效值\n  const validIds = alcoholIds.filter(id => id != null && id !== undefined && !isNaN(id))\n  if (validIds.length === 0) {\n    return Promise.reject(new Error('请至少选择一个有效的酒类标签'))\n  }\n  \n  // 使用axios的params配置，会自动处理数组参数为 alcoholIds=1&alcoholIds=2 格式\n  const params = {\n    alcoholIds: validIds, // axios会自动将数组转换为重复的参数\n    limit: limit\n  }\n  \n  // 只有当值不为null和undefined时才添加\n  if (latitude != null && latitude !== undefined && !isNaN(latitude)) {\n    params.latitude = latitude\n  }\n  if (longitude != null && longitude !== undefined && !isNaN(longitude)) {\n    params.longitude = longitude\n  }\n  \n  return request({\n    url: '/activities/bars/recommend',\n    method: 'get',\n    params: params\n  })\n}\n\n/**\n * 根据酒类推荐酒吧（保留用于兼容）\n * @deprecated 使用 recommendBarsByAlcoholIds 代替\n */\nexport const recommendBarsByBeverage = (beverageId, latitude, longitude, limit = 10) => {\n  return request({\n    url: '/activities/bars/recommend-by-beverage',\n    method: 'get',\n    params: { beverageId, latitude, longitude, limit }\n  })\n}\n\n/**\n * 搜索酒吧（模糊搜索）\n */\nexport const searchBars = (keyword, limit = 20) => {\n  return request({\n    url: '/activities/bars/search',\n    method: 'get',\n    params: { keyword, limit }\n  })\n}\n\n/**\n * 获取我发起的活动\n */\nexport const getMyCreatedActivities = (page = 1, size = 10) => {\n  return request({\n    url: '/activities/my-created',\n    method: 'get',\n    params: { page, size }\n  })\n}\n\n/**\n * 获取推荐的活动\n */\nexport const getRecommendedActivities = (barId, beverageId, page = 1, size = 10) => {\n  return request({\n    url: '/activities/recommended',\n    method: 'get',\n    params: { barId, beverageId, page, size }\n  })\n}\n\n/**\n * 获取我参与的活动\n */\nexport const getMyParticipatedActivities = (page = 1, size = 10) => {\n  return request({\n    url: '/activities/my-participated',\n    method: 'get',\n    params: { page, size }\n  })\n}\n\n/**\n * 获取活动详情\n */\nexport const getActivityById = (id) => {\n  return request({\n    url: `/activities/${id}`,\n    method: 'get'\n  })\n}\n\n/**\n * 参与活动\n */\nexport const joinActivity = (id) => {\n  return request({\n    url: `/activities/${id}/join`,\n    method: 'post'\n  })\n}\n\n/**\n * 取消参与活动\n */\nexport const cancelJoinActivity = (id) => {\n  return request({\n    url: `/activities/${id}/cancel`,\n    method: 'post'\n  })\n}\n\n/**\n * 审核活动（管理员）\n */\nexport const reviewActivity = (id, data) => {\n  return request({\n    url: `/activities/${id}/review`,\n    method: 'post',\n    data\n  })\n}\n\n/**\n * 获取待审核的活动列表（管理员）\n */\nexport const getPendingActivities = (page = 1, size = 10) => {\n  return request({\n    url: '/activities/pending',\n    method: 'get',\n    params: { page, size }\n  })\n}\n\n"],"names":["route","useRoute","loading","useRouter","ref","actionLoading","activity","participants","loadActivityDetail","async","value","res","getActivityById","params","id","code","data","error","ElMessage","handleJoin","ElMessageBox","confirm","confirmButtonText","cancelButtonText","type","joinActivity","success","response","message","handleCancel","cancelJoinActivity","goToReview","info","formatDateTime","dateTime","date","Date","toLocaleString","year","month","day","hour","minute","getStatusText","status","statusMap","PENDING","APPROVED","REJECTED","ONGOING","FINISHED","CANCELLED","getStatusType","typeMap","onMounted","_createElementBlock","_hoisted_1","_hoisted_2","_createVNode","_component_el_button","onClick","_cache","$event","_ctx","$router","back","style","_createBlock","_component_el_card","class","header","_withCtx","_createElementVNode","_hoisted_3","_toDisplayString","beverageName","_component_el_tag","_hoisted_4","_hoisted_5","_component_el_icon","_unref","Clock","activityTime","barName","_hoisted_6","LocationFilled","barAddress","_hoisted_7","_hoisted_8","User","currentParticipants","maxParticipants","_hoisted_9","UserFilled","organizerName","remark","_hoisted_10","reviewStatus","_hoisted_11","_component_el_alert","closable","_hoisted_12","_hoisted_13","isParticipated","isOrganizer","isFinished","disabled","_hoisted_14","_Fragment","_renderList","participant","key","_component_el_avatar","src","avatar","size","name","charAt","_hoisted_15","organizerId","__exports__","createActivity","request","url","method","getMyCreatedActivities","page","getRecommendedActivities","barId","beverageId","getMyParticipatedActivities","reviewActivity","getPendingActivities"],"ignoreList":[],"sourceRoot":""}