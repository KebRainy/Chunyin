{"version":3,"file":"js/563.ebd04bd4.js","mappings":"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","sources":["webpack://demo2/./src/api/user.js","webpack://demo2/./src/components/PostCard.vue","webpack://demo2/./src/components/PostCard.vue?4106","webpack://demo2/./node_modules/dayjs/plugin/relativeTime.js","webpack://demo2/./src/views/Feed.vue","webpack://demo2/./src/views/Feed.vue?8ddd"],"sourcesContent":["import request from './request'\r\n\r\nexport const fetchUserProfile = (id) => {\r\n  return request({\r\n    url: `/users/${id}`,\r\n    method: 'get'\r\n  })\r\n}\r\n\r\nexport const updateProfile = (data) => {\r\n  return request({\r\n    url: '/users/profile',\r\n    method: 'put',\r\n    data\r\n  })\r\n}\r\n\r\nexport const changePassword = (data) => {\r\n  return request({\r\n    url: '/users/password',\r\n    method: 'put',\r\n    data\r\n  })\r\n}\r\n\r\nexport const followUser = (id) => {\r\n  return request({\r\n    url: `/users/${id}/follow`,\r\n    method: 'post'\r\n  })\r\n}\r\n\r\nexport const unfollowUser = (id) => {\r\n  return request({\r\n    url: `/users/${id}/follow`,\r\n    method: 'delete'\r\n  })\r\n}\r\n\r\nexport const getFollowees = () => {\r\n  return request({\r\n    url: '/users/followees',\r\n    method: 'get'\r\n  })\r\n}\r\n\r\nexport const getCollections = (params) => {\r\n  return request({\r\n    url: '/collections',\r\n    method: 'get',\r\n    params\r\n  })\r\n}\r\n\r\nexport const getFootprints = (params) => {\r\n  return request({\r\n    url: '/footprints',\r\n    method: 'get',\r\n    params\r\n  })\r\n}\r\n\r\nexport const recordFootprint = (data) => {\r\n  return request({\r\n    url: '/footprints',\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n","<template>\n  <div :class=\"['post-card', layout]\" @click=\"$emit('select', post)\">\n    <div class=\"card-media\" v-if=\"post.imageUrls?.length\">\n      <img\n        :src=\"post.imageUrls[0]\"\n        :alt=\"post.content || `${post.author?.username || '用户'}的分享图片`\"\n      >\n      <div class=\"image-overlay\">\n        <span class=\"overlay-item\"><el-icon><View /></el-icon>{{ post.viewCount || 0 }}</span>\n        <span class=\"overlay-item\"><el-icon><GobletFull /></el-icon>{{ post.likeCount || 0 }}</span>\n      </div>\n      <span v-if=\"post.imageUrls.length > 1\" class=\"count\">+{{ post.imageUrls.length - 1 }}</span>\n    </div>\n    <div class=\"card-media no-image\" v-else>\n      <p class=\"no-image-text\">{{ coverText(post.content) }}</p>\n      <div class=\"image-overlay\">\n        <span class=\"overlay-item\"><el-icon><View /></el-icon>{{ post.viewCount || 0 }}</span>\n        <span class=\"overlay-item\"><el-icon><GobletFull /></el-icon>{{ post.likeCount || 0 }}</span>\n      </div>\n    </div>\n    <div class=\"card-body\">\n      <!-- <div class=\"location\">\n        <el-icon><Location /></el-icon>\n        <span>{{ post.location || '未知地点' }}</span>\n      </div> -->\n      <p class=\"content\">{{ snippet(post.content) }}</p>\n      <div class=\"tags\" v-if=\"post.tags?.length\">\n        <el-tag\n          v-for=\"tag in post.tags.slice(0, 2)\"\n          :key=\"tag\"\n          size=\"small\"\n          effect=\"light\"\n        >\n          # {{ tag }}\n        </el-tag>\n      </div>\n    </div>\n    <div class=\"card-meta\">\n      <div class=\"author\">\n        <el-avatar\n          :src=\"post.author?.avatarUrl\"\n          :size=\"28\"\n          :alt=\"`${post.author?.username || '用户'}的头像`\"\n        />\n        <p class=\"name\">{{ post.author?.username }}</p>\n      </div>\n      <span class=\"time\">{{ formatTime(post.createdAt) }}</span>\n    </div>\n  </div>\n</template>\n\n<script setup>\nimport dayjs from 'dayjs'\nimport relativeTime from 'dayjs/plugin/relativeTime'\nimport { Picture, View, GobletFull, Heart, Location } from '@element-plus/icons-vue'\n\ndayjs.extend(relativeTime)\n\ndefineProps({\n  post: {\n    type: Object,\n    required: true\n  },\n  layout: {\n    type: String,\n    default: 'masonry'\n  }\n})\n\ndefineEmits(['select'])\n\nconst snippet = (text) => {\n  if (!text) return ''\n  return text.length > 29 ? `${text.slice(0, 29)}...` : text\n}\n\nconst coverText = (text) => {\n  if (!text) return '分享此刻的灵感'\n  return text.length > 60 ? `${text.slice(0, 60)}...` : text\n}\n\nconst formatTime = (value) => {\n  if (!value) return ''\n  const date = dayjs(value)\n  const now = dayjs()\n  const diffMinutes = now.diff(date, 'minute')\n  if (diffMinutes < 60) return `${diffMinutes || 1}分钟前`\n  const diffHours = now.diff(date, 'hour')\n  if (diffHours < 24) return `${diffHours}小时前`\n  if (date.isSame(now, 'year')) {\n    return date.format('M月D日')\n  }\n  return date.format('YYYY年M月D日')\n}\n</script>\n\n<style scoped>\n.post-card {\n  background: #fff;\n  border-radius: 18px;\n  overflow: hidden;\n  border: 1px solid #f1f1f1;\n  cursor: pointer;\n  display: flex;\n  flex-direction: column;\n  transition: transform 0.2s, box-shadow 0.2s;\n  break-inside: avoid;\n}\n\n.post-card:hover {\n  box-shadow: 0 18px 28px rgba(15, 23, 42, 0.08);\n  transform: translateY(-2px);\n}\n\n.card-media {\n  position: relative;\n  width: 100%;\n  overflow: hidden;\n  border-bottom: 1px solid #f5f5f5;\n}\n\n.card-media img {\n  width: 100%;\n  display: block;\n  object-fit: cover;\n  max-height: 520px;\n}\n\n.card-media.no-image {\n  min-height: 220px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  padding: 32px 24px 64px;\n  background: #f8fafc;\n}\n\n.no-image-text {\n  font-size: 18px;\n  color: #1f2d3d;\n  margin: 0;\n  text-align: center;\n  line-height: 1.8;\n  display: -webkit-box;\n  -webkit-line-clamp: 4;\n  -webkit-box-orient: vertical;\n  overflow: hidden;\n}\n\n.image-overlay {\n  position: absolute;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  display: flex;\n  justify-content: space-between;\n  padding: 10px 14px;\n  background: linear-gradient(180deg, rgba(0, 0, 0, 0) 0%, rgba(0, 0, 0, 0.45) 100%);\n  color: #fff;\n  font-size: 12px;\n}\n\n.overlay-item {\n  display: inline-flex;\n  align-items: center;\n  gap: 4px;\n}\n\n.card-media .count {\n  position: absolute;\n  top: 12px;\n  right: 12px;\n  background: rgba(0, 0, 0, 0.55);\n  color: #fff;\n  padding: 2px 8px;\n  border-radius: 999px;\n  font-size: 12px;\n}\n\n.card-body {\n  padding: 14px 16px 8px;\n  display: flex;\n  flex-direction: column;\n  gap: 8px;\n}\n\n.location {\n  display: flex;\n  align-items: center;\n  gap: 4px;\n  font-size: 12px;\n  color: #909399;\n}\n\n.content {\n  margin: 0;\n  color: #1f2d3d;\n  line-height: 1.6;\n  font-size: 16px;\n  font-weight: 500;\n}\n\n.tags {\n  display: flex;\n  gap: 6px;\n  flex-wrap: wrap;\n}\n\n.card-meta {\n  padding: 10px 16px 16px;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  font-size: 12px;\n  color: #909399;\n}\n\n.author {\n  display: flex;\n  align-items: center;\n  gap: 8px;\n}\n\n.author .name {\n  margin: 0;\n  font-weight: 600;\n  font-size: 13px;\n  color: #1f2d3d;\n}\n\n.card-meta .time {\n  font-size: 12px;\n  color: #a0a3ad;\n}\n</style>\n","import script from \"./PostCard.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./PostCard.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./PostCard.vue?vue&type=style&index=0&id=099876c4&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-099876c4\"]])\n\nexport default __exports__","!function(r,e){\"object\"==typeof exports&&\"undefined\"!=typeof module?module.exports=e():\"function\"==typeof define&&define.amd?define(e):(r=\"undefined\"!=typeof globalThis?globalThis:r||self).dayjs_plugin_relativeTime=e()}(this,(function(){\"use strict\";return function(r,e,t){r=r||{};var n=e.prototype,o={future:\"in %s\",past:\"%s ago\",s:\"a few seconds\",m:\"a minute\",mm:\"%d minutes\",h:\"an hour\",hh:\"%d hours\",d:\"a day\",dd:\"%d days\",M:\"a month\",MM:\"%d months\",y:\"a year\",yy:\"%d years\"};function i(r,e,t,o){return n.fromToBase(r,e,t,o)}t.en.relativeTime=o,n.fromToBase=function(e,n,i,d,u){for(var f,a,s,l=i.$locale().relativeTime||o,h=r.thresholds||[{l:\"s\",r:44,d:\"second\"},{l:\"m\",r:89},{l:\"mm\",r:44,d:\"minute\"},{l:\"h\",r:89},{l:\"hh\",r:21,d:\"hour\"},{l:\"d\",r:35},{l:\"dd\",r:25,d:\"day\"},{l:\"M\",r:45},{l:\"MM\",r:10,d:\"month\"},{l:\"y\",r:17},{l:\"yy\",d:\"year\"}],m=h.length,c=0;c<m;c+=1){var y=h[c];y.d&&(f=d?t(e).diff(i,y.d,!0):i.diff(e,y.d,!0));var p=(r.rounding||Math.round)(Math.abs(f));if(s=f>0,p<=y.r||!y.r){p<=1&&c>0&&(y=h[c-1]);var v=l[y.l];u&&(p=u(\"\"+p)),a=\"string\"==typeof v?v.replace(\"%d\",p):v(p,n,y.l,s);break}}if(n)return a;var M=s?l.future:l.past;return\"function\"==typeof M?M(a):M.replace(\"%s\",a)},n.to=function(r,e){return i(r,e,this,!0)},n.from=function(r,e){return i(r,e,this)};var d=function(r){return r.$u?t.utc():t()};n.toNow=function(r){return this.to(d(this),r)},n.fromNow=function(r){return this.from(d(this),r)}}}));","<template>\n  <div class=\"feed-container\">\n    <!-- 关注用户头像列表 -->\n    <div class=\"followees-section\">\n      <div v-if=\"followeesLoading\" class=\"followees-loading\">加载关注列表...</div>\n      <div v-else class=\"followees-list\">\n        <div\n          v-for=\"followee in followees\"\n          :key=\"followee.id\"\n          class=\"followee-avatar\"\n          :title=\"followee.username\"\n          @click=\"goToUser(followee.id)\"\n        >\n          <el-avatar\n            :src=\"followee.avatarUrl\"\n            :size=\"48\"\n            :alt=\"`${followee.username}的头像`\"\n          />\n          <span class=\"followee-name\">{{ followee.username }}</span>\n        </div>\n      </div>\n    </div>\n\n    <!-- 动态列表 -->\n    <div class=\"feed-posts\">\n      <div v-if=\"loading && posts.length === 0\" class=\"loading\">加载中...</div>\n      <div v-else-if=\"posts.length === 0\" class=\"empty\">\n        <el-empty description=\"还没有关注的动态\" />\n      </div>\n      <div v-else class=\"masonry-grid\">\n        <PostCard\n          v-for=\"post in posts\"\n          :key=\"post.id\"\n          :post=\"post\"\n          @select=\"goToPost(post.id)\"\n        />\n      </div>\n\n      <!-- 加载更多 -->\n      <div v-if=\"!loading && hasMore\" class=\"load-more\">\n        <el-button @click=\"loadMore\">加载更多</el-button>\n      </div>\n      <div v-if=\"!hasMore && posts.length > 0\" class=\"no-more\">\n        已加载全部内容\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup>\nimport { ref, onMounted } from 'vue'\nimport { useRouter } from 'vue-router'\nimport { circleApi } from '@/api/circle'\nimport { getFollowees } from '@/api/user'\nimport PostCard from '@/components/PostCard.vue'\n\nconst router = useRouter()\n\nconst posts = ref([])\nconst loading = ref(true)\nconst currentPage = ref(1)\nconst pageSize = ref(12)\nconst hasMore = ref(true)\n\nconst followees = ref([])\nconst followeesLoading = ref(true)\n\nconst loadFollowees = async () => {\n  try {\n    const response = await getFollowees()\n    followees.value = response.data || []\n  } catch (error) {\n    console.error('Failed to load followees:', error)\n  } finally {\n    followeesLoading.value = false\n  }\n}\n\nconst loadPosts = async () => {\n  loading.value = true\n  try {\n    const response = await circleApi.listFeed(currentPage.value, pageSize.value)\n    const pageData = response.data\n    const items = pageData.items || []\n\n    if (currentPage.value === 1) {\n      posts.value = items\n    } else {\n      posts.value.push(...items)\n    }\n    hasMore.value = items.length >= pageSize.value\n  } catch (error) {\n    console.error('Failed to load feed:', error)\n  } finally {\n    loading.value = false\n  }\n}\n\nconst loadMore = () => {\n  currentPage.value++\n  loadPosts()\n}\n\nconst goToPost = (postId) => {\n  router.push(`/posts/${postId}`)\n}\n\nconst goToUser = (userId) => {\n  router.push(`/users/${userId}`)\n}\n\nonMounted(() => {\n  loadFollowees()\n  loadPosts()\n})\n</script>\n\n<style scoped>\n.feed-container {\n  max-width: 1300px;\n  margin: 0 auto;\n  padding: 20px;\n  display: flex;\n  flex-direction: column;\n  gap: 24px;\n}\n\n/* 关注用户列表 */\n.followees-section {\n  padding: 18px 24px;\n  border-radius: 24px;\n  border: 1px solid #eceff5;\n  background: #fff;\n  box-shadow: 0 10px 28px rgba(15, 23, 42, 0.05);\n}\n\n.followees-loading {\n  text-align: center;\n  padding: 20px;\n  color: #999;\n}\n\n.followees-list {\n  display: flex;\n  gap: 16px;\n  overflow-x: auto;\n  padding: 10px 0;\n}\n\n.followee-avatar {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  gap: 8px;\n  cursor: pointer;\n  transition: transform 0.2s;\n  flex-shrink: 0;\n}\n\n.followee-avatar:hover {\n  transform: scale(1.1);\n}\n\n.followee-name {\n  font-size: 12px;\n  color: #666;\n  text-align: center;\n  max-width: 60px;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n}\n\n/* 动态列表 */\n.feed-posts {\n  min-height: 400px;\n  background: #fff;\n  border-radius: 28px;\n  border: 1px solid #eceff5;\n  box-shadow: 0 12px 32px rgba(15, 23, 42, 0.04);\n  padding: 24px;\n}\n\n.loading, .empty {\n  text-align: center;\n  padding: 40px 20px;\n  color: #999;\n}\n\n.masonry-grid {\n  column-count: 4;\n  column-gap: 20px;\n}\n\n.masonry-grid > * {\n  break-inside: avoid;\n  margin-bottom: 20px;\n  display: block;\n}\n\n@media (max-width: 1200px) {\n  .masonry-grid {\n    column-count: 3;\n  }\n}\n\n@media (max-width: 900px) {\n  .masonry-grid {\n    column-count: 2;\n  }\n}\n\n@media (max-width: 600px) {\n  .masonry-grid {\n    column-count: 1;\n  }\n}\n\n.load-more {\n  text-align: center;\n  padding: 20px;\n  margin-top: 20px;\n}\n\n.no-more {\n  text-align: center;\n  padding: 20px;\n  color: #999;\n  font-size: 12px;\n}\n</style>\n","import script from \"./Feed.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./Feed.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./Feed.vue?vue&type=style&index=0&id=3826e89c&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-3826e89c\"]])\n\nexport default __exports__"],"names":["fetchUserProfile","id","request","url","method","updateProfile","data","changePassword","followUser","unfollowUser","getFollowees","getCollections","params","getFootprints","recordFootprint","dayjs","relativeTime","snippet","text","length","slice","coverText","formatTime","value","date","now","diffMinutes","diff","diffHours","isSame","format","_createElementBlock","class","_normalizeClass","__props","layout","onClick","_cache","$event","_ctx","$emit","post","imageUrls","_hoisted_1","_createElementVNode","src","alt","content","author","username","_hoisted_3","_hoisted_4","_createVNode","_component_el_icon","_unref","View","viewCount","_hoisted_5","GobletFull","likeCount","_hoisted_6","_toDisplayString","_hoisted_7","_hoisted_8","_hoisted_9","_hoisted_10","_hoisted_11","_hoisted_12","_hoisted_13","tags","_hoisted_14","_Fragment","_renderList","tag","_createBlock","_component_el_tag","key","size","effect","_hoisted_15","_hoisted_16","_component_el_avatar","avatarUrl","_hoisted_17","_hoisted_18","createdAt","__exports__","r","e","module","exports","this","t","n","prototype","o","future","past","s","m","mm","h","hh","d","dd","M","MM","y","yy","i","fromToBase","en","u","f","a","l","$locale","thresholds","c","p","rounding","Math","round","abs","v","replace","to","from","$u","utc","toNow","fromNow","router","useRouter","posts","ref","loading","currentPage","pageSize","hasMore","followees","followeesLoading","loadFollowees","async","response","error","console","loadPosts","circleApi","listFeed","pageData","items","push","loadMore","goToPost","postId","goToUser","userId","onMounted","_hoisted_2","followee","title","_component_el_empty","description","PostCard","onSelect","_component_el_button"],"ignoreList":[],"sourceRoot":""}