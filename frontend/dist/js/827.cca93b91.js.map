{"version":3,"file":"js/827.cca93b91.js","mappings":"2RA2BA,MAAMA,GAASC,EAAAA,EAAAA,MACTC,GAAYC,EAAAA,EAAAA,KACZC,GAAUC,EAAAA,EAAAA,MACVC,GAAUD,EAAAA,EAAAA,KAAI,GACdE,GAAOC,EAAAA,EAAAA,IAAS,CACpBC,SAAU,GACVC,SAAU,KAGNC,EAAQ,CACZF,SAAU,CAAC,CAAEG,UAAU,EAAMC,QAAS,YAAaC,QAAS,SAC5DJ,SAAU,CAAC,CAAEE,UAAU,EAAMC,QAAS,QAASC,QAAS,UAGpDC,EAAaA,KACjBX,EAAQY,MAAMC,SAASC,UACrB,GAAKC,EAAL,CACAb,EAAQU,OAAQ,EAChB,IACE,MAAMI,QAAYC,EAAAA,EAAAA,IAAMd,GACxBL,EAAUoB,YAAYF,EAAIG,KAAKC,SAC/BC,EAAAA,GAAUC,QAAQ,QAClB1B,EAAO2B,KAAK,IACd,CAAE,MAAOC,GACP,MAAMf,EAAUe,GAAOC,UAAUN,MAAMV,SAAWe,EAAMf,SAAW,gBACnEY,EAAAA,GAAUG,MAAMf,EAClB,CAAE,QACAP,EAAQU,OAAQ,CAClB,CAZkB,KAgBhBc,EAAaA,KACjB9B,EAAO2B,KAAK,c,4JA3DZI,EAAAA,EAAAA,IAgBM,MAhBNC,EAgBM,EAfJC,EAAAA,EAAAA,IAcUC,EAAA,CAdDC,MAAM,aAAW,C,iBACxB,IAAe,C,aAAfC,EAAAA,EAAAA,IAAe,UAAX,UAAM,KACVH,EAAAA,EAAAA,IAWUI,EAAA,CAXAC,MAAO/B,EAAOI,MAAOA,E,QAAW,UAAJN,IAAID,EAAU,cAAY,Q,kBAC9D,IAEe,EAFf6B,EAAAA,EAAAA,IAEeM,EAAA,CAFDC,MAAM,WAAWC,KAAK,Y,kBAClC,IAA4D,EAA5DR,EAAAA,EAAAA,IAA4DS,EAAA,C,WAAzCnC,EAAKE,S,qCAALF,EAAKE,SAAQkC,GAAEC,YAAY,a,gCAEhDX,EAAAA,EAAAA,IAEeM,EAAA,CAFDC,MAAM,KAAKC,KAAK,Y,kBAC5B,IAAsF,EAAtFR,EAAAA,EAAAA,IAAsFS,EAAA,C,WAAnEnC,EAAKG,S,qCAALH,EAAKG,SAAQiC,GAAEE,KAAK,WAAW,mBAAcD,YAAY,S,gCAE9EX,EAAAA,EAAAA,IAGeM,EAAA,M,iBAFb,IAA+E,EAA/EN,EAAAA,EAAAA,IAA+Ea,EAAA,CAApED,KAAK,UAAWvC,QAASA,EAAAU,MAAU+B,QAAOhC,G,kBAAY,IAAE,IAAAiC,EAAA,KAAAA,EAAA,K,QAAF,MAAE,O,qBACnEf,EAAAA,EAAAA,IAA4Da,EAAA,CAAjDD,KAAK,OAAQE,QAAOjB,G,kBAAY,IAAK,IAAAkB,EAAA,KAAAA,EAAA,K,QAAL,SAAK,O,yDCP1D,MAAMC,GAA2B,OAAgB,EAAQ,CAAC,CAAC,YAAY,qBAEvE,O","sources":["webpack://demo2/./src/views/auth/Login.vue","webpack://demo2/./src/views/auth/Login.vue?930c"],"sourcesContent":["<template>\r\n  <div class=\"auth-container\">\r\n    <el-card class=\"auth-card\">\r\n      <h2>登录醇饮社区</h2>\r\n      <el-form :model=\"form\" :rules=\"rules\" ref=\"formRef\" label-width=\"90px\">\r\n        <el-form-item label=\"用户名 / 邮箱\" prop=\"username\">\r\n          <el-input v-model=\"form.username\" placeholder=\"请输入用户名或邮箱\" />\r\n        </el-form-item>\r\n        <el-form-item label=\"密码\" prop=\"password\">\r\n          <el-input v-model=\"form.password\" type=\"password\" show-password placeholder=\"请输入密码\" />\r\n        </el-form-item>\r\n        <el-form-item>\r\n          <el-button type=\"primary\" :loading=\"loading\" @click=\"submitForm\">登录</el-button>\r\n          <el-button type=\"text\" @click=\"goRegister\">注册新账号</el-button>\r\n        </el-form-item>\r\n      </el-form>\r\n    </el-card>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { reactive, ref } from 'vue'\r\nimport { useRouter } from 'vue-router'\r\nimport { login } from '@/api/auth'\r\nimport { useUserStore } from '@/store/modules/user'\r\nimport { ElMessage } from 'element-plus'\r\n\r\nconst router = useRouter()\r\nconst userStore = useUserStore()\r\nconst formRef = ref()\r\nconst loading = ref(false)\r\nconst form = reactive({\r\n  username: '',\r\n  password: ''\r\n})\r\n\r\nconst rules = {\r\n  username: [{ required: true, message: '请输入用户名或邮箱', trigger: 'blur' }],\r\n  password: [{ required: true, message: '请输入密码', trigger: 'blur' }]\r\n}\r\n\r\nconst submitForm = () => {\r\n  formRef.value.validate(async (valid) => {\r\n    if (!valid) return\r\n    loading.value = true\r\n    try {\r\n      const res = await login(form)\r\n      userStore.setUserInfo(res.data.profile)\r\n      ElMessage.success('登录成功')\r\n      router.push('/')\r\n    } catch (error) {\r\n      const message = error?.response?.data?.message || error.message || '登录失败，请检查账号和密码'\r\n      ElMessage.error(message)\r\n    } finally {\r\n      loading.value = false\r\n    }\r\n  })\r\n}\r\n\r\nconst goRegister = () => {\r\n  router.push('/register')\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.auth-container {\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  min-height: 70vh;\r\n}\r\n\r\n.auth-card {\r\n  width: 420px;\r\n  padding: 30px 20px;\r\n}\r\n\r\nh2 {\r\n  text-align: center;\r\n  margin-bottom: 24px;\r\n}\r\n</style>\r\n","import script from \"./Login.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./Login.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./Login.vue?vue&type=style&index=0&id=407d10a8&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-407d10a8\"]])\n\nexport default __exports__"],"names":["router","useRouter","userStore","useUserStore","formRef","ref","loading","form","reactive","username","password","rules","required","message","trigger","submitForm","value","validate","async","valid","res","login","setUserInfo","data","profile","ElMessage","success","push","error","response","goRegister","_createElementBlock","_hoisted_1","_createVNode","_component_el_card","class","_createElementVNode","_component_el_form","model","_component_el_form_item","label","prop","_component_el_input","$event","placeholder","type","_component_el_button","onClick","_cache","__exports__"],"ignoreList":[],"sourceRoot":""}