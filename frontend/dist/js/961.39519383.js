"use strict";(self["webpackChunkChunyin"]=self["webpackChunkChunyin"]||[]).push([[961],{8961:function(e,l,a){a.r(l),a.d(l,{default:function(){return c}});a(4114);var r=a(641),u=a(953),s=a(5220),t=a(2636),o=a(6400),d=a(163);const n={class:"auth-container"};var m={__name:"Register",setup(e){const l=(0,s.rd)(),a=(0,o.k)(),m=(0,u.KR)(),i=(0,u.KR)(!1),p=(0,u.Kh)({username:"",email:"",password:""}),c={username:[{required:!0,message:"请输入用户名",trigger:"blur"},{min:2,max:50,message:"用户名长度需在 2-50 之间",trigger:"blur"}],email:[{required:!0,message:"请输入邮箱地址",trigger:"blur"},{type:"email",message:"邮箱格式不正确",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"},{min:6,max:50,message:"密码长度需在 6-50 之间",trigger:"blur"}]},g=()=>{m.value.validate(async e=>{if(e){i.value=!0;try{const e=await(0,t.kz)(p);a.setUserInfo(e.data.profile),d.nk.success("注册成功，欢迎加入！"),l.push("/")}catch(r){console.error("注册失败:",r)}finally{i.value=!1}}})},b=()=>{l.push("/login")};return(e,l)=>{const a=(0,r.g2)("el-input"),u=(0,r.g2)("el-form-item"),s=(0,r.g2)("el-button"),t=(0,r.g2)("el-form"),o=(0,r.g2)("el-card");return(0,r.uX)(),(0,r.CE)("div",n,[(0,r.bF)(o,{class:"auth-card"},{default:(0,r.k6)(()=>[l[5]||(l[5]=(0,r.Lk)("h2",null,"注册新账号",-1)),(0,r.bF)(t,{model:p,rules:c,ref_key:"formRef",ref:m,"label-width":"80px"},{default:(0,r.k6)(()=>[(0,r.bF)(u,{label:"用户名",prop:"username"},{default:(0,r.k6)(()=>[(0,r.bF)(a,{modelValue:p.username,"onUpdate:modelValue":l[0]||(l[0]=e=>p.username=e),placeholder:"2-50 个字符"},null,8,["modelValue"])]),_:1}),(0,r.bF)(u,{label:"邮箱",prop:"email"},{default:(0,r.k6)(()=>[(0,r.bF)(a,{modelValue:p.email,"onUpdate:modelValue":l[1]||(l[1]=e=>p.email=e),placeholder:"xxx@example.com"},null,8,["modelValue"])]),_:1}),(0,r.bF)(u,{label:"密码",prop:"password"},{default:(0,r.k6)(()=>[(0,r.bF)(a,{modelValue:p.password,"onUpdate:modelValue":l[2]||(l[2]=e=>p.password=e),type:"password","show-password":"",placeholder:"至少 6 个字符"},null,8,["modelValue"])]),_:1}),(0,r.bF)(u,null,{default:(0,r.k6)(()=>[(0,r.bF)(s,{type:"primary",loading:i.value,onClick:g},{default:(0,r.k6)(()=>[...l[3]||(l[3]=[(0,r.eW)("注册",-1)])]),_:1},8,["loading"]),(0,r.bF)(s,{type:"text",onClick:b},{default:(0,r.k6)(()=>[...l[4]||(l[4]=[(0,r.eW)("已有账号，去登录",-1)])]),_:1})]),_:1})]),_:1},8,["model"])]),_:1})])}}},i=a(6262);const p=(0,i.A)(m,[["__scopeId","data-v-30ceee93"]]);var c=p}}]);
//# sourceMappingURL=961.39519383.js.map