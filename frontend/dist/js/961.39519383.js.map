{"version":3,"file":"js/961.39519383.js","mappings":"kSA8BA,MAAMA,GAASC,EAAAA,EAAAA,MACTC,GAAYC,EAAAA,EAAAA,KAEZC,GAAUC,EAAAA,EAAAA,MACVC,GAAUD,EAAAA,EAAAA,KAAI,GACdE,GAAOC,EAAAA,EAAAA,IAAS,CACpBC,SAAU,GACVC,MAAO,GACPC,SAAU,KAGNC,EAAQ,CACZH,SAAU,CACR,CAAEI,UAAU,EAAMC,QAAS,SAAUC,QAAS,QAC9C,CAAEC,IAAK,EAAGC,IAAK,GAAIH,QAAS,kBAAmBC,QAAS,SAE1DL,MAAO,CACL,CAAEG,UAAU,EAAMC,QAAS,UAAWC,QAAS,QAC/C,CAAEG,KAAM,QAASJ,QAAS,UAAWC,QAAS,SAEhDJ,SAAU,CACR,CAAEE,UAAU,EAAMC,QAAS,QAASC,QAAS,QAC7C,CAAEC,IAAK,EAAGC,IAAK,GAAIH,QAAS,iBAAkBC,QAAS,UAIrDI,EAAaA,KACjBf,EAAQgB,MAAMC,SAASC,UACrB,GAAKC,EAAL,CACAjB,EAAQc,OAAQ,EAChB,IACE,MAAMI,QAAYC,EAAAA,EAAAA,IAASlB,GAC3BL,EAAUwB,YAAYF,EAAIG,KAAKC,SAC/BC,EAAAA,GAAUC,QAAQ,cAClB9B,EAAO+B,KAAK,IACd,CAAE,MAAOC,GAGPC,QAAQD,MAAM,QAASA,EACzB,CAAE,QACA1B,EAAQc,OAAQ,CAClB,CAbkB,KAiBhBc,EAAUA,KACdlC,EAAO+B,KAAK,W,4JA3EZI,EAAAA,EAAAA,IAmBM,MAnBNC,EAmBM,EAlBJC,EAAAA,EAAAA,IAiBUC,EAAA,CAjBDC,MAAM,aAAW,C,iBACxB,IAAc,C,aAAdC,EAAAA,EAAAA,IAAc,UAAV,SAAK,KACTH,EAAAA,EAAAA,IAcUI,EAAA,CAdAC,MAAOnC,EAAOK,MAAOA,E,QAAW,UAAJP,IAAID,EAAU,cAAY,Q,kBAC9D,IAEe,EAFfiC,EAAAA,EAAAA,IAEeM,EAAA,CAFDC,MAAM,MAAMC,KAAK,Y,kBAC7B,IAA2D,EAA3DR,EAAAA,EAAAA,IAA2DS,EAAA,C,WAAxCvC,EAAKE,S,qCAALF,EAAKE,SAAQsC,GAAEC,YAAY,Y,gCAEhDX,EAAAA,EAAAA,IAEeM,EAAA,CAFDC,MAAM,KAAKC,KAAK,S,kBAC5B,IAA+D,EAA/DR,EAAAA,EAAAA,IAA+DS,EAAA,C,WAA5CvC,EAAKG,M,qCAALH,EAAKG,MAAKqC,GAAEC,YAAY,mB,gCAE7CX,EAAAA,EAAAA,IAEeM,EAAA,CAFDC,MAAM,KAAKC,KAAK,Y,kBAC5B,IAAyF,EAAzFR,EAAAA,EAAAA,IAAyFS,EAAA,C,WAAtEvC,EAAKI,S,qCAALJ,EAAKI,SAAQoC,GAAE7B,KAAK,WAAW,mBAAc8B,YAAY,Y,gCAE9EX,EAAAA,EAAAA,IAGeM,EAAA,M,iBAFb,IAA+E,EAA/EN,EAAAA,EAAAA,IAA+EY,EAAA,CAApE/B,KAAK,UAAWZ,QAASA,EAAAc,MAAU8B,QAAO/B,G,kBAAY,IAAE,IAAAgC,EAAA,KAAAA,EAAA,K,QAAF,MAAE,O,qBACnEd,EAAAA,EAAAA,IAA4DY,EAAA,CAAjD/B,KAAK,OAAQgC,QAAOhB,G,kBAAS,IAAQ,IAAAiB,EAAA,KAAAA,EAAA,K,QAAR,YAAQ,O,yDCV1D,MAAMC,GAA2B,OAAgB,EAAQ,CAAC,CAAC,YAAY,qBAEvE,O","sources":["webpack://Chunyin/./src/views/auth/Register.vue","webpack://Chunyin/./src/views/auth/Register.vue?d778"],"sourcesContent":["<template>\n  <div class=\"auth-container\">\n    <el-card class=\"auth-card\">\n      <h2>注册新账号</h2>\n      <el-form :model=\"form\" :rules=\"rules\" ref=\"formRef\" label-width=\"80px\">\n        <el-form-item label=\"用户名\" prop=\"username\">\n          <el-input v-model=\"form.username\" placeholder=\"2-50 个字符\" />\n        </el-form-item>\n        <el-form-item label=\"邮箱\" prop=\"email\">\n          <el-input v-model=\"form.email\" placeholder=\"xxx@example.com\" />\n        </el-form-item>\n        <el-form-item label=\"密码\" prop=\"password\">\n          <el-input v-model=\"form.password\" type=\"password\" show-password placeholder=\"至少 6 个字符\" />\n        </el-form-item>\n        <el-form-item>\n          <el-button type=\"primary\" :loading=\"loading\" @click=\"submitForm\">注册</el-button>\n          <el-button type=\"text\" @click=\"goLogin\">已有账号，去登录</el-button>\n        </el-form-item>\n      </el-form>\n    </el-card>\n  </div>\n</template>\n\n<script setup>\nimport { reactive, ref } from 'vue'\nimport { useRouter } from 'vue-router'\nimport { register } from '@/api/auth'\nimport { useUserStore } from '@/store/modules/user'\nimport { ElMessage } from 'element-plus'\n\nconst router = useRouter()\nconst userStore = useUserStore()\n\nconst formRef = ref()\nconst loading = ref(false)\nconst form = reactive({\n  username: '',\n  email: '',\n  password: ''\n})\n\nconst rules = {\n  username: [\n    { required: true, message: '请输入用户名', trigger: 'blur' },\n    { min: 2, max: 50, message: '用户名长度需在 2-50 之间', trigger: 'blur' }\n  ],\n  email: [\n    { required: true, message: '请输入邮箱地址', trigger: 'blur' },\n    { type: 'email', message: '邮箱格式不正确', trigger: 'blur' }\n  ],\n  password: [\n    { required: true, message: '请输入密码', trigger: 'blur' },\n    { min: 6, max: 50, message: '密码长度需在 6-50 之间', trigger: 'blur' }\n  ]\n}\n\nconst submitForm = () => {\n  formRef.value.validate(async (valid) => {\n    if (!valid) return\n    loading.value = true\n    try {\n      const res = await register(form)\n      userStore.setUserInfo(res.data.profile)\n      ElMessage.success('注册成功，欢迎加入！')\n      router.push('/')\n    } catch (error) {\n      // 错误已在 request 拦截器中通过 ElMessage 显示\n      // 这里只需要捕获错误防止页面崩溃\n      console.error('注册失败:', error)\n    } finally {\n      loading.value = false\n    }\n  })\n}\n\nconst goLogin = () => {\n  router.push('/login')\n}\n</script>\n\n<style scoped>\n.auth-container {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  min-height: 70vh;\n}\n\n.auth-card {\n  width: 420px;\n  padding: 30px 20px;\n}\n\nh2 {\n  text-align: center;\n  margin-bottom: 24px;\n}\n</style>","import script from \"./Register.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./Register.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./Register.vue?vue&type=style&index=0&id=30ceee93&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-30ceee93\"]])\n\nexport default __exports__"],"names":["router","useRouter","userStore","useUserStore","formRef","ref","loading","form","reactive","username","email","password","rules","required","message","trigger","min","max","type","submitForm","value","validate","async","valid","res","register","setUserInfo","data","profile","ElMessage","success","push","error","console","goLogin","_createElementBlock","_hoisted_1","_createVNode","_component_el_card","class","_createElementVNode","_component_el_form","model","_component_el_form_item","label","prop","_component_el_input","$event","placeholder","_component_el_button","onClick","_cache","__exports__"],"ignoreList":[],"sourceRoot":""}