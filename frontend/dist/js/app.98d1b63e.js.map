{"version":3,"file":"js/app.98d1b63e.js","mappings":"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","sources":["webpack://Chunyin/./src/App.vue","webpack://Chunyin/./src/components/ShareModal.vue","webpack://Chunyin/./src/components/ShareModal.vue?d0c3","webpack://Chunyin/./src/components/layout/Header.vue","webpack://Chunyin/./src/components/layout/Header.vue?9cc9","webpack://Chunyin/./src/components/layout/Footer.vue","webpack://Chunyin/./src/components/layout/Footer.vue?3a0c","webpack://Chunyin/./src/components/rag/RAGFloatingWindow.vue","webpack://Chunyin/./src/components/rag/RAGFloatingWindow.vue?bd14","webpack://Chunyin/./src/App.vue?7ccd","webpack://Chunyin/./src/router/index.js","webpack://Chunyin/./src/main.js","webpack://Chunyin/./src/api/auth.js","webpack://Chunyin/./src/composables/useChinaRegions.js","webpack://Chunyin/./src/api/circle.js","webpack://Chunyin/./src/store/index.js","webpack://Chunyin/./src/components/share/ShareComposer.vue","webpack://Chunyin/./src/components/share/ShareComposer.vue?c8ff","webpack://Chunyin/./src/composables/useCityDetection.js","webpack://Chunyin/./src/store/modules/user.js","webpack://Chunyin/./src/api/request.js","webpack://Chunyin/./src/api/recommend.js","webpack://Chunyin/webpack/bootstrap","webpack://Chunyin/webpack/runtime/chunk loaded","webpack://Chunyin/webpack/runtime/compat get default export","webpack://Chunyin/webpack/runtime/define property getters","webpack://Chunyin/webpack/runtime/ensure chunk","webpack://Chunyin/webpack/runtime/get javascript chunk filename","webpack://Chunyin/webpack/runtime/get mini-css chunk filename","webpack://Chunyin/webpack/runtime/global","webpack://Chunyin/webpack/runtime/hasOwnProperty shorthand","webpack://Chunyin/webpack/runtime/load script","webpack://Chunyin/webpack/runtime/make namespace object","webpack://Chunyin/webpack/runtime/publicPath","webpack://Chunyin/webpack/runtime/css loading","webpack://Chunyin/webpack/runtime/jsonp chunk loading","webpack://Chunyin/webpack/startup"],"sourcesContent":["<template>\n  <div id=\"app\">\n    <el-container>\n      <el-header>\n        <Header />\n      </el-header>\n      <el-main>\n        <router-view />\n      </el-main>\n      <el-footer>\n        <Footer />\n      </el-footer>\n    </el-container>\n    <!-- RAG悬浮窗 -->\n    <RAGFloatingWindow />\n  </div>\n</template>\n\n<script>\nimport Header from './components/layout/Header.vue'\nimport Footer from './components/layout/Footer.vue'\nimport RAGFloatingWindow from './components/rag/RAGFloatingWindow.vue'\n\nexport default {\n  name: 'App',\n  components: {\n    Header,\n    Footer,\n    RAGFloatingWindow\n  }\n}\n</script>\n\n<style>\n* {\n  margin: 0;\n  padding: 0;\n  box-sizing: border-box;\n}\n\n#app {\n  font-family: 'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', Arial, sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  min-height: 100vh;\n  background-color: #fff;\n}\n\n.el-header {\n  padding: 0;\n  height: 60px !important;\n  box-shadow: 0 4px 16px rgba(15, 23, 42, 0.05);\n  background: #fff;\n}\n\n.el-main {\n  padding: 32px 24px;\n  min-height: calc(100vh - 120px);\n  background-color: #fff;\n}\n\n.el-footer {\n  height: 60px !important;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  background-color: #fff;\n  color: #909399;\n  border-top: 1px solid #f0f0f0;\n}\n</style>\n","<template>\n  <el-dialog\n    v-model=\"visible\"\n    width=\"540px\"\n    :close-on-click-modal=\"false\"\n    :show-close=\"false\"\n    :before-close=\"handleClose\"\n  >\n    <template #header>\n      <div class=\"modal-header\">\n        <h3>分享此刻</h3>\n        <el-button text @click=\"handleClose\">\n          <el-icon><Close /></el-icon>\n        </el-button>\n      </div>\n    </template>\n    <ShareComposer ref=\"composerRef\" mode=\"modal\" @submitted=\"handlePosted\" />\n  </el-dialog>\n</template>\n\n<script setup>\nimport { computed, ref } from 'vue'\nimport { ElMessageBox } from 'element-plus'\nimport ShareComposer from '@/components/share/ShareComposer.vue'\nimport { Close } from '@element-plus/icons-vue'\n\nconst props = defineProps({\n  modelValue: Boolean\n})\n\nconst emit = defineEmits(['update:modelValue', 'posted'])\n\nconst visible = computed({\n  get: () => props.modelValue,\n  set: (value) => emit('update:modelValue', value)\n})\n\nconst composerRef = ref(null)\n\nconst closeModal = (done) => {\n  composerRef.value?.resetForm()\n  if (typeof done === 'function') done()\n  else visible.value = false\n}\n\nconst handlePosted = () => {\n  visible.value = false\n  emit('posted')\n}\n\nconst handleClose = (done) => {\n  const hasUnsaved = composerRef.value?.hasUnsaved?.value\n  if (!hasUnsaved) {\n    closeModal(done)\n    return\n  }\n  ElMessageBox.confirm('草稿将不会保存，确定要关闭吗？', '提示', {\n    confirmButtonText: '仍要关闭',\n    cancelButtonText: '继续编辑',\n    type: 'warning',\n    distinguishCancelAndClose: true\n  }).then(() => {\n    closeModal(done)\n  }).catch(() => {\n    // keep editing\n  })\n}\n</script>\n\n<style scoped>\n.modal-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n}\n\n.modal-header h3 {\n  margin: 0;\n  font-size: 18px;\n  color: #303133;\n}\n</style>\n","import script from \"./ShareModal.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./ShareModal.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./ShareModal.vue?vue&type=style&index=0&id=4416fe80&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-4416fe80\"]])\n\nexport default __exports__","<template>\n  <div class=\"header-container\">\n    <div class=\"header-content\">\n      <div class=\"header-left\">\n        <div class=\"logo\" @click=\"goHome\">醇饮</div>\n        <div class=\"nav-menu\">\n          <div\n            v-for=\"nav in navItems\"\n            :key=\"nav.path\"\n            :class=\"['nav-item', { active: route.path === nav.path || (nav.path === '/activities' && route.path.startsWith('/activities') && !route.path.startsWith('/activities/create')) || (nav.path === '/seller/activity' && route.path.startsWith('/seller/activity')) || (nav.path === '/admin/activities/review' && route.path.startsWith('/admin/activities/review')) }]\"\n            @click=\"handleNavClick(nav.path)\"\n          >\n            {{ nav.label }}\n          </div>\n        </div>\n      </div>\n      <div class=\"header-center\">\n        <el-input\n          v-model=\"searchKeyword\"\n          placeholder=\"探索动态 / 酒饮 / 用户\"\n          class=\"search-input\"\n          @keyup.enter=\"goSearch\"\n          clearable\n        >\n          <template #prefix>\n            <el-icon class=\"search-icon\"><Search /></el-icon>\n          </template>\n        </el-input>\n      </div>\n      <div class=\"header-right\">\n        <div class=\"user-entry\">\n          <template v-if=\"userStore.isLoggedIn\">\n            <el-dropdown @command=\"handleCommand\">\n              <span class=\"user-avatar\">\n                <el-avatar\n                  :size=\"36\"\n                  :src=\"userStore.userInfo.avatarUrl\"\n                  :alt=\"`${userStore.userInfo?.username || '用户'}的头像`\"\n                >\n                  <el-icon><User /></el-icon>\n                </el-avatar>\n              </span>\n              <template #dropdown>\n                <el-dropdown-menu>\n                  <el-dropdown-item command=\"profile\">个人中心</el-dropdown-item>\n                  <el-dropdown-item command=\"settings\">设置</el-dropdown-item>\n                  <el-dropdown-item v-if=\"userStore.isAdmin\" command=\"admin\" divided>\n                    <span style=\"color: #409EFF; font-weight: 600;\">管理后台</span>\n                  </el-dropdown-item>\n                  <el-dropdown-item command=\"logout\" divided>退出登录</el-dropdown-item>\n                </el-dropdown-menu>\n              </template>\n            </el-dropdown>\n          </template>\n          <template v-else>\n            <el-button text size=\"small\" @click=\"goLogin\">登录</el-button>\n            <el-button text size=\"small\" @click=\"goRegister\">注册</el-button>\n          </template>\n        </div>\n        <div class=\"quick-links\">\n          <span v-if=\"userStore.isLoggedIn\" @click=\"goToFeed\">关注</span>\n          <span @click=\"goToMessages\">消息</span>\n          <span @click=\"goToFeeds\">动态</span>\n          <span @click=\"goToCollections\">收藏</span>\n          <span @click=\"goToHistory\">足迹</span>\n          <span v-if=\"userStore.isLoggedIn && !userStore.isSeller && !userStore.isAdmin\" @click=\"goToUserActivity\">活动</span>\n          <span v-if=\"userStore.isSeller\" @click=\"goToSellerActivity\">管理</span>\n          <span v-if=\"userStore.isAdmin\" @click=\"goToAdminReview\">活动审核</span>\n        </div>\n        <el-button\n          type=\"primary\"\n          class=\"share-btn\"\n          plain\n          @click=\"triggerShare\"\n        >\n          分享此刻\n        </el-button>\n      </div>\n    </div>\n  </div>\n\n  <ShareModal v-model=\"showShareModal\" @posted=\"refreshAfterShare\" />\n</template>\n\n<script setup>\nimport { ref, computed, onMounted } from 'vue'\nimport { useRouter, useRoute } from 'vue-router'\nimport { useUserStore } from '@/store/modules/user'\nimport { ElMessage } from 'element-plus'\nimport ShareModal from '@/components/ShareModal.vue'\n\nconst router = useRouter()\nconst route = useRoute()\nconst userStore = useUserStore()\nconst searchKeyword = ref('')\nconst showShareModal = ref(false)\n\n// 根据用户角色动态生成导航菜单\nconst navItems = computed(() => {\n  const baseItems = [\n    { path: '/', label: '广场' },\n    { path: '/nearby', label: '附近' },\n    { path: '/ranking', label: '排行榜' },\n    { path: '/bars', label: '酒吧' },\n    { path: '/wiki', label: '维基' }\n  ]\n  \n  // 根据用户角色添加不同的菜单项\n  if (userStore.isAdmin) {\n    // 管理员显示\"活动审核\"，使用ActivityList组件\n    baseItems.splice(1, 0, { path: '/admin/activities/review', label: '活动审核' })\n  } else if (userStore.isSeller) {\n    // seller用户显示\"管理\"，指向商家活动管理页面\n    baseItems.splice(1, 0, { path: '/seller/activity', label: '管理' })\n  } else {\n    // 普通用户（USER）显示\"活动\"，指向活动列表页面\n    baseItems.splice(1, 0, { path: '/activities', label: '活动' })\n  }\n  \n  return baseItems\n})\n\nonMounted(() => {\n  if (!userStore.initialized && !userStore.loading) {\n    userStore.fetchUserInfo().catch(() => {})\n  }\n})\n\nconst goHome = () => router.push('/')\nconst goTo = (path) => router.push(path)\n\n// 处理导航菜单点击\nconst handleNavClick = (path) => {\n  // 如果是活动或管理页面，需要检查登录状态\n  if (path === '/activities') {\n    if (!userStore.isLoggedIn) {\n      ElMessage.warning('请先登录')\n      router.push('/login')\n      return\n    }\n    router.push('/activities')\n  } else if (path === '/seller/activity') {\n    if (!userStore.isLoggedIn) {\n      ElMessage.warning('请先登录')\n      router.push('/login')\n      return\n    }\n    router.push('/seller/activity')\n  } else if (path === '/seller/activity') {\n    if (!userStore.isLoggedIn) {\n      ElMessage.warning('请先登录')\n      router.push('/login')\n      return\n    }\n    if (!userStore.isSeller) {\n      ElMessage.warning('此功能仅限商家用户')\n      return\n    }\n    router.push('/seller/activity')\n  } else if (path === '/admin/activities/review') {\n    if (!userStore.isLoggedIn) {\n      ElMessage.warning('请先登录')\n      router.push('/login')\n      return\n    }\n    if (!userStore.isAdmin) {\n      ElMessage.warning('此功能仅限管理员')\n      return\n    }\n    router.push('/admin/activities/review')\n  } else {\n    router.push(path)\n  }\n}\n\nconst goToFeed = () => {\n  if (!userStore.isLoggedIn) {\n    ElMessage.warning('请先登录')\n    router.push('/login')\n    return\n  }\n  router.push('/feed')\n}\nconst goToMessages = () => {\n  if (!userStore.isLoggedIn) {\n    ElMessage.warning('请先登录')\n    router.push('/login')\n    return\n  }\n  router.push('/messages')\n}\nconst goToFeeds = () => router.push('/user/profile?tab=posts')\nconst goToCollections = () => {\n  if (!userStore.isLoggedIn) {\n    ElMessage.warning('请先登录')\n    router.push('/login')\n    return\n  }\n  router.push('/user/profile?tab=collections')\n}\nconst goToHistory = () => {\n  if (!userStore.isLoggedIn) {\n    ElMessage.warning('请先登录')\n    router.push('/login')\n    return\n  }\n  router.push('/user/profile?tab=history')\n}\nconst goToUserActivity = () => {\n  if (!userStore.isLoggedIn) {\n    ElMessage.warning('请先登录')\n    router.push('/login')\n    return\n  }\n  router.push('/activities')\n}\nconst goToSellerActivity = () => {\n  if (!userStore.isLoggedIn || !userStore.isSeller) {\n    ElMessage.warning('此功能仅限商家用户')\n    return\n  }\n  router.push('/seller/activity')\n}\nconst goToAdminReview = () => {\n  if (!userStore.isLoggedIn || !userStore.isAdmin) {\n    ElMessage.warning('此功能仅限管理员')\n    return\n  }\n  router.push('/admin/activities/review')\n}\nconst goLogin = () => router.push('/login')\nconst goRegister = () => router.push('/register')\nconst goSearch = () => {\n  if (!searchKeyword.value) return\n  router.push({ path: '/search', query: { q: searchKeyword.value } })\n}\n\nconst triggerShare = () => {\n  if (!userStore.isLoggedIn) {\n    ElMessage.warning('请先登录后再分享')\n    router.push('/login')\n    return\n  }\n  showShareModal.value = true\n}\n\nconst refreshAfterShare = () => {\n  router.replace({ path: router.currentRoute.value.fullPath })\n}\n\nconst handleCommand = async (command) => {\n  if (command === 'profile') {\n    router.push('/user/profile')\n  } else if (command === 'settings') {\n    router.push('/user/settings')\n  } else if (command === 'admin') {\n    router.push('/admin/moderation')\n  } else if (command === 'logout') {\n    await userStore.logout()\n    ElMessage.success('已退出登录')\n    router.push('/')\n  }\n}\n</script>\n\n<style scoped>\n.header-container {\n  height: 68px;\n  background: rgba(255, 255, 255, 0.95);\n  border-bottom: 1px solid #f2f2f2;\n  position: sticky;\n  top: 0;\n  z-index: 100;\n  -webkit-backdrop-filter: blur(10px);\n  backdrop-filter: blur(10px);\n}\n\n.header-content {\n  max-width: 1400px;\n  margin: 0 auto;\n  height: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  gap: 20px;\n  padding: 0 24px;\n}\n\n.header-left {\n  display: flex;\n  align-items: center;\n  gap: 32px;\n}\n\n.logo {\n  font-size: 22px;\n  font-weight: 700;\n  color: #2f54eb;\n  cursor: pointer;\n  letter-spacing: 2px;\n}\n\n.nav-menu {\n  display: flex;\n  gap: 20px;\n}\n\n.nav-item {\n  font-size: 15px;\n  color: #606266;\n  cursor: pointer;\n  padding: 6px 0;\n  position: relative;\n}\n\n.nav-item.active::after {\n  content: '';\n  position: absolute;\n  bottom: -2px;\n  left: 0;\n  right: 0;\n  height: 2px;\n  background: #303133;\n}\n\n.header-center {\n  flex: 1;\n}\n\n.search-input :deep(.el-input__wrapper) {\n  border-radius: 999px;\n  background: #f5f6f7;\n  border: none;\n  box-shadow: none;\n}\n\n.search-icon {\n  color: #909399;\n}\n\n.header-right {\n  display: flex;\n  align-items: center;\n  gap: 16px;\n}\n\n.user-entry {\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  border-right: 1px solid #f0f0f0;\n  padding-right: 12px;\n}\n\n.quick-links {\n  display: flex;\n  gap: 14px;\n  font-size: 14px;\n  color: #303133;\n}\n\n.quick-links span {\n  cursor: pointer;\n}\n\n.share-btn {\n  border-radius: 999px;\n  border-color: #111;\n  color: #111;\n  padding: 0 18px;\n  font-weight: 600;\n}\n\n.user-avatar {\n  cursor: pointer;\n}\n</style>\n","import script from \"./Header.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./Header.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./Header.vue?vue&type=style&index=0&id=307afa7a&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-307afa7a\"]])\n\nexport default __exports__","<template>\n  <div class=\"footer-container\">\n    <p>&copy; 2025 酒饮平台 | 酒精饮料信息分享社区</p>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'Footer'\n}\n</script>\n\n<style scoped>\n.footer-container {\n  text-align: center;\n  font-size: 14px;\n}\n</style>\n","import { render } from \"./Footer.vue?vue&type=template&id=a8084066&scoped=true\"\nimport script from \"./Footer.vue?vue&type=script&lang=js\"\nexport * from \"./Footer.vue?vue&type=script&lang=js\"\n\nimport \"./Footer.vue?vue&type=style&index=0&id=a8084066&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-a8084066\"]])\n\nexport default __exports__","<template>\n  <Teleport to=\"body\">\n    <!-- 触发按钮 -->\n    <div\n      v-if=\"!visible\"\n      class=\"rag-trigger-button\"\n      @click=\"openWindow\"\n    >\n      <el-icon><ChatDotRound /></el-icon>\n      <span>智能荐酒</span>\n    </div>\n\n    <!-- 悬浮窗 -->\n    <div\n      v-if=\"visible\"\n      class=\"rag-floating-window-wrapper\"\n      :style=\"windowStyle\"\n    >\n      <div class=\"rag-floating-window\" :class=\"{ minimized: isMinimized, 'show-history': showHistory }\">\n        <!-- 标题栏 -->\n        <div class=\"window-header\" @mousedown=\"startDrag\">\n          <el-icon><ChatDotRound /></el-icon>\n          <span>智能荐酒</span>\n          <div class=\"header-actions\">\n            <el-button\n              v-if=\"!isMinimized\"\n              text\n              :icon=\"showHistory ? ChatDotRound : Document\"\n              @click=\"toggleHistory\"\n              :title=\"showHistory ? '返回输入框' : '查看对话历史'\"\n            />\n            <el-button\n              text\n              :icon=\"isMinimized ? FullScreen : Minus\"\n              @click=\"toggleMinimize\"\n            />\n            <el-button text :icon=\"Close\" @click=\"closeWindow\" />\n          </div>\n        </div>\n\n        <!-- 内容区域 -->\n        <div v-if=\"!isMinimized\" class=\"window-body\">\n          <!-- 输入框和推荐结果视图 -->\n          <div v-if=\"!showHistory\" class=\"window-content\">\n            <div class=\"search-section\">\n              <el-input\n                v-model=\"query\"\n                type=\"textarea\"\n                :rows=\"3\"\n                placeholder=\"例如：我想要一款适合晚餐的清淡红酒\"\n                :maxlength=\"200\"\n                show-word-limit\n                @keyup.ctrl.enter=\"handleSearch\"\n              />\n\n              <div class=\"query-examples\">\n                <span class=\"example-label\">查询示例：</span>\n                <el-tag\n                  v-for=\"example in queryExamples\"\n                  :key=\"example\"\n                  class=\"example-tag\"\n                  size=\"small\"\n                  @click=\"query = example\"\n                >\n                  {{ example }}\n                </el-tag>\n              </div>\n\n              <div class=\"search-actions\">\n                <el-button\n                  type=\"primary\"\n                  :loading=\"loading\"\n                  @click=\"handleSearch\"\n                >\n                  <el-icon><Search /></el-icon>\n                  智能推荐\n                </el-button>\n                <el-button @click=\"clearSearch\">清空</el-button>\n              </div>\n            </div>\n\n            <!-- 推荐理由 -->\n            <div v-if=\"results?.recommendationReason\" class=\"recommendation-reason\">\n              <h4>推荐理由</h4>\n              <div class=\"reason-content\" v-html=\"formatMarkdown(results.recommendationReason)\"></div>\n            </div>\n\n            <!-- 加载状态 -->\n            <div v-if=\"loading && !results\" class=\"loading-section\">\n              <el-skeleton :rows=\"3\" animated />\n              <p class=\"loading-text\">AI正在分析您的需求...</p>\n            </div>\n\n            <!-- Wiki内容列表 -->\n            <div v-if=\"results && results.wikiContents && results.wikiContents.length > 0\" class=\"results-section\">\n              <h4>推荐Wiki内容</h4>\n              <div class=\"wiki-list\">\n                <div\n                  v-for=\"wiki in results.wikiContents\"\n                  :key=\"wiki.id\"\n                  class=\"wiki-item\"\n                  @click=\"goToWikiPage(wiki)\"\n                >\n                  <div class=\"wiki-info\">\n                    <h5>{{ wiki.title }}</h5>\n                    <p v-if=\"wiki.summary\" class=\"wiki-summary\">{{ wiki.summary }}</p>\n                    <div v-if=\"wiki.similarity\" class=\"wiki-similarity\">\n                      相似度: {{ (wiki.similarity * 100).toFixed(1) }}%\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n\n            <!-- 推荐结果 -->\n            <div v-else-if=\"results && results.beverages && results.beverages.length > 0\" class=\"results-section\">\n              <h4>推荐结果</h4>\n              <div class=\"beverages-list\">\n                <div\n                  v-for=\"beverage in results.beverages\"\n                  :key=\"beverage.id\"\n                  class=\"beverage-item\"\n                  @click=\"goToBeverageDetail(beverage.id)\"\n                >\n                  <div v-if=\"beverage.coverImageId\" class=\"beverage-image\">\n                    <img :src=\"getImageUrl(beverage.coverImageId)\" :alt=\"beverage.name\" />\n                  </div>\n                  <div v-else class=\"beverage-image no-image\">\n                    <el-icon><Picture /></el-icon>\n                  </div>\n                  <div class=\"beverage-info\">\n                    <h5>{{ beverage.name }}</h5>\n                    <p class=\"beverage-type\">{{ beverage.type }}</p>\n                    <p v-if=\"beverage.origin\" class=\"beverage-origin\">{{ beverage.origin }}</p>\n                    <div v-if=\"beverage.rating\" class=\"beverage-rating\">\n                      <el-rate\n                        :model-value=\"beverage.rating\"\n                        disabled\n                        show-score\n                        text-color=\"#ff9900\"\n                        score-template=\"{value}\"\n                      />\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n\n            <!-- 空结果：只有在没有推荐理由且没有酒类时才显示 -->\n            <div v-else-if=\"results && !results.recommendationReason && (!results.beverages || results.beverages.length === 0) && (!results.wikiContents || results.wikiContents.length === 0)\" class=\"empty-section\">\n              <el-empty description=\"没有找到匹配的内容\" :image-size=\"80\" />\n            </div>\n          </div>\n\n          <!-- 对话历史视图 -->\n          <div v-else class=\"history-view\">\n            <div class=\"history-header\">\n              <span>对话历史</span>\n              <el-button text size=\"small\" @click=\"clearHistory\">\n                <el-icon><Delete /></el-icon>\n                清空历史\n              </el-button>\n            </div>\n            <div class=\"history-content\">\n              <div v-if=\"conversationHistory.length === 0\" class=\"empty-history\">\n                <el-empty description=\"暂无对话历史\" :image-size=\"80\" />\n              </div>\n              <div v-else class=\"history-list\">\n                <div\n                  v-for=\"(turn, index) in conversationHistory\"\n                  :key=\"index\"\n                  class=\"history-item\"\n                >\n                  <div class=\"user-message\">\n                    <el-icon><User /></el-icon>\n                    <span>{{ turn.userQuery }}</span>\n                  </div>\n                  <div v-if=\"turn.aiResponse\" class=\"ai-message\">\n                    <el-icon><ChatDotRound /></el-icon>\n                    <span>{{ turn.aiResponse }}</span>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </Teleport>\n</template>\n\n<script setup>\nimport { ref, computed, onMounted, onBeforeUnmount, watch } from 'vue'\nimport { useRouter } from 'vue-router'\nimport { ChatDotRound, Close, Minus, FullScreen, Search, Picture, User, Document, Delete } from '@element-plus/icons-vue'\nimport { ElMessage } from 'element-plus'\nimport { recommendApi } from '@/api/recommend'\n\nconst router = useRouter()\n\nconst visible = ref(false)\nconst query = ref('')\nconst loading = ref(false)\nconst results = ref(null)\nconst isMinimized = ref(false)\nconst conversationHistory = ref([]) // 对话历史\nconst showHistory = ref(false) // 是否显示侧边栏\n\nconst windowStyle = ref({\n  position: 'fixed',\n  bottom: '20px',\n  right: '20px',\n  width: '480px',\n  zIndex: 2000\n})\n\nconst isDragging = ref(false)\nconst dragOffset = ref({ x: 0, y: 0 })\n\nconst queryExamples = [\n  '适合晚餐的红酒',\n  '清淡口味的啤酒',\n  '适合聚会的鸡尾酒',\n  '高端的威士忌',\n  '适合女性的甜酒'\n]\n\n// 从localStorage恢复位置和状态\nonMounted(() => {\n  const savedPosition = localStorage.getItem('ragWindowPosition')\n  const savedVisible = localStorage.getItem('ragWindowVisible')\n  \n  if (savedPosition) {\n    try {\n      const { x, y, width } = JSON.parse(savedPosition)\n      windowStyle.value = {\n        ...windowStyle.value,\n        left: `${x}px`,\n        top: `${y}px`,\n        bottom: 'auto',\n        right: 'auto',\n        width: width || '600px'\n      }\n    } catch (e) {\n      console.error('恢复窗口位置失败', e)\n    }\n  }\n  \n  if (savedVisible === 'true') {\n    visible.value = true\n  }\n})\n\n// 保存可见状态\nwatch(visible, (newVal) => {\n  localStorage.setItem('ragWindowVisible', String(newVal))\n  if (newVal) {\n    windowStyle.value.zIndex = 2000\n  }\n})\n\nconst openWindow = () => {\n  visible.value = true\n  // 打开窗口时，默认进入输入页面\n  showHistory.value = false\n  if (!windowStyle.value.left) {\n    windowStyle.value = {\n      ...windowStyle.value,\n      bottom: '20px',\n      right: '20px'\n    }\n  } else {\n    // 恢复底部定位\n    const { top, ...rest } = windowStyle.value\n    windowStyle.value = {\n      ...rest,\n      bottom: '20px'\n    }\n  }\n}\n\nconst closeWindow = () => {\n  visible.value = false\n}\n\nconst toggleMinimize = () => {\n  const wasMinimized = isMinimized.value\n  isMinimized.value = !isMinimized.value\n  \n  if (isMinimized.value) {\n    // 最小化时，关闭对话历史\n    showHistory.value = false\n  } else if (wasMinimized) {\n    // 从收起状态展开时，默认进入输入页面\n    showHistory.value = false\n    // 恢复底部定位\n    const { top, ...rest } = windowStyle.value\n    windowStyle.value = {\n      ...rest,\n      bottom: '20px'\n    }\n  }\n  \n  const width = isMinimized.value ? '300px' : '480px'\n  windowStyle.value = {\n    ...windowStyle.value,\n    width\n  }\n  savePosition()\n}\n\n// 拖拽功能\nconst startDrag = (e) => {\n  if (e.target.closest('.header-actions')) {\n    return\n  }\n  isDragging.value = true\n  const rect = e.currentTarget.getBoundingClientRect()\n  dragOffset.value = {\n    x: e.clientX - rect.left,\n    y: e.clientY - rect.top\n  }\n  \n  document.addEventListener('mousemove', onDrag)\n  document.addEventListener('mouseup', stopDrag)\n}\n\nconst onDrag = (e) => {\n  if (!isDragging.value) return\n  \n  const x = e.clientX - dragOffset.value.x\n  const y = e.clientY - dragOffset.value.y\n  const width = parseInt(windowStyle.value.width) || 600\n  \n  windowStyle.value = {\n    ...windowStyle.value,\n    left: `${Math.max(0, Math.min(x, window.innerWidth - width))}px`,\n    top: `${Math.max(0, Math.min(y, window.innerHeight - 200))}px`,\n    bottom: 'auto',\n    right: 'auto'\n  }\n}\n\nconst stopDrag = () => {\n  if (isDragging.value) {\n    isDragging.value = false\n    savePosition()\n  }\n  document.removeEventListener('mousemove', onDrag)\n  document.removeEventListener('mouseup', stopDrag)\n}\n\nconst savePosition = () => {\n  const style = windowStyle.value\n  if (style.left && style.top) {\n    localStorage.setItem('ragWindowPosition', JSON.stringify({\n      x: parseInt(style.left),\n      y: parseInt(style.top),\n      width: style.width\n    }))\n  }\n}\n\nonBeforeUnmount(() => {\n  document.removeEventListener('mousemove', onDrag)\n  document.removeEventListener('mouseup', stopDrag)\n})\n\nconst handleSearch = async () => {\n  if (!query.value.trim()) {\n    ElMessage.warning('请输入查询内容')\n    return\n  }\n\n  loading.value = true\n  results.value = null\n\n  try {\n    // 构建请求数据，包含对话历史\n    const requestData = {\n      query: query.value,\n      topK: 10,\n      includeReason: true,\n      conversationHistory: conversationHistory.value.map(turn => ({\n        userQuery: turn.userQuery,\n        aiResponse: turn.aiResponse\n      }))\n    }\n    \n    const response = await recommendApi.ragRecommendBeveragesWithHistory(requestData)\n    \n    if (response.code === 200 && response.data) {\n      results.value = response.data\n      \n      // 保存到对话历史\n      conversationHistory.value.push({\n        userQuery: query.value,\n        aiResponse: results.value.recommendationReason || ''\n      })\n      \n      // 限制对话历史长度（最多保留10轮）\n      if (conversationHistory.value.length > 10) {\n        conversationHistory.value = conversationHistory.value.slice(-10)\n      }\n      \n      if (results.value.wikiContents && results.value.wikiContents.length > 0) {\n        ElMessage.success(`为您找到 ${results.value.wikiContents.length} 条Wiki内容`)\n      } else if (results.value.beverages && results.value.beverages.length > 0) {\n        ElMessage.success(`为您找到 ${results.value.beverages.length} 款推荐酒类`)\n      }\n    } else {\n      ElMessage.error(response.message || '推荐失败，请稍后重试')\n    }\n  } catch (error) {\n    console.error('推荐失败', error)\n    ElMessage.error('推荐失败，请稍后重试')\n  } finally {\n    loading.value = false\n  }\n}\n\nconst clearSearch = () => {\n  query.value = ''\n  results.value = null\n}\n\nconst clearHistory = () => {\n  conversationHistory.value = []\n}\n\nconst toggleHistory = () => {\n  // 收起状态下不允许切换\n  if (isMinimized.value) {\n    return\n  }\n  showHistory.value = !showHistory.value\n  // 显示对话历史时，窗口从顶部开始\n  if (showHistory.value) {\n    windowStyle.value = {\n      ...windowStyle.value,\n      top: '0',\n      bottom: 'auto'\n    }\n  } else {\n    // 返回输入页面时，恢复底部定位\n    const { top, ...rest } = windowStyle.value\n    windowStyle.value = {\n      ...rest,\n      bottom: '20px'\n    }\n  }\n}\n\nconst goToBeverageDetail = (beverageId) => {\n  router.push(`/beverage/${beverageId}`)\n}\n\nconst goToWikiPage = (wiki) => {\n  if (wiki.slug) {\n    router.push(`/wiki/${encodeURIComponent(wiki.slug)}`)\n  } else if (wiki.title) {\n    // 将标题转换为URL友好的slug\n    const slug = wiki.title\n      .toLowerCase()\n      .replace(/\\s+/g, '-')\n      .replace(/[^\\w\\u4e00-\\u9fa5-]/g, '')\n    router.push(`/wiki/${encodeURIComponent(slug)}`)\n  } else {\n    router.push('/wiki')\n  }\n}\n\nconst getImageUrl = (imageId) => {\n  return `/api/file/${imageId}`\n}\n\nconst formatMarkdown = (text) => {\n  if (!text) return ''\n  return text\n    .replace(/\\*\\*(.*?)\\*\\*/g, '<strong>$1</strong>')\n    .replace(/\\*(.*?)\\*/g, '<em>$1</em>')\n    .replace(/\\n/g, '<br/>')\n}\n</script>\n\n<style scoped>\n/* 触发按钮 */\n.rag-trigger-button {\n  position: fixed;\n  bottom: 20px;\n  right: 20px;\n  z-index: 1999;\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  padding: 12px 20px;\n  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n  color: #fff;\n  border-radius: 25px;\n  box-shadow: 0 4px 20px rgba(102, 126, 234, 0.4);\n  cursor: pointer;\n  transition: all 0.3s;\n  font-size: 14px;\n  font-weight: 500;\n}\n\n.rag-trigger-button:hover {\n  transform: translateY(-2px);\n  box-shadow: 0 6px 25px rgba(102, 126, 234, 0.5);\n}\n\n.rag-trigger-button .el-icon {\n  font-size: 18px;\n}\n\n/* 悬浮窗 */\n.rag-floating-window-wrapper {\n  position: fixed;\n  z-index: 2000;\n}\n\n.rag-floating-window {\n  background: #fff;\n  border-radius: 12px;\n  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.15);\n  display: flex;\n  flex-direction: column;\n  overflow: hidden;\n  transition: width 0.3s;\n}\n\n.rag-floating-window.minimized {\n  width: 240px;\n}\n\n.rag-floating-window:not(.minimized) {\n  width: 450px;\n  display: flex;\n  flex-direction: column;\n}\n\n.rag-floating-window:not(.minimized).show-history {\n  /* 对话历史页面：从页面顶部开始，底部留出空间 */\n  height: calc(100vh - 20px);\n  max-height: calc(100vh - 20px);\n}\n\n.window-body {\n  position: relative;\n  min-height: 30px;\n  overflow: hidden;\n  display: flex;\n  flex-direction: column;\n}\n\n.rag-floating-window:not(.show-history) .window-body {\n  /* 输入页面：自适应高度 */\n  flex: 0 1 auto;\n  max-height: calc(100vh - 100px);\n}\n\n.rag-floating-window.show-history .window-body {\n  /* 对话历史页面：从页面顶部开始，底部留出空间 */\n  flex: 1;\n  height: calc(100vh - 80px);\n  max-height: calc(100vh - 80px);\n}\n\n.window-header {\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  padding: 16px 20px;\n  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n  color: #fff;\n  cursor: move;\n  user-select: none;\n}\n\n.window-header .header-actions {\n  margin-left: auto;\n  display: flex;\n  gap: 4px;\n}\n\n.window-header .el-button {\n  color: #fff;\n}\n\n.window-header .el-button:hover {\n  background: rgba(255, 255, 255, 0.2);\n}\n\n.window-content {\n  padding: 20px;\n  overflow-y: auto;\n  flex: 1;\n  min-height: 0;\n  max-height: 100%;\n  animation: fadeIn 0.3s ease-out;\n}\n\n@keyframes fadeIn {\n  from {\n    opacity: 0;\n  }\n  to {\n    opacity: 1;\n  }\n}\n\n.search-section {\n  display: flex;\n  flex-direction: column;\n  gap: 12px;\n  margin-bottom: 20px;\n}\n\n.query-examples {\n  display: flex;\n  flex-wrap: wrap;\n  align-items: center;\n  gap: 6px;\n}\n\n.example-label {\n  color: #606266;\n  font-size: 12px;\n}\n\n.example-tag {\n  cursor: pointer;\n  transition: all 0.3s;\n}\n\n.example-tag:hover {\n  background-color: #409eff;\n  color: #fff;\n}\n\n.search-actions {\n  display: flex;\n  gap: 10px;\n}\n\n.recommendation-reason {\n  margin-bottom: 20px;\n  padding: 16px;\n  background: #f5f7fa;\n  border-radius: 8px;\n  border-left: 4px solid #667eea;\n}\n\n.recommendation-reason h4 {\n  margin: 0 0 12px 0;\n  color: #303133;\n  font-size: 16px;\n}\n\n.reason-content {\n  line-height: 1.8;\n  color: #606266;\n  font-size: 14px;\n}\n\n.loading-section {\n  padding: 20px 0;\n}\n\n.loading-text {\n  text-align: center;\n  color: #909399;\n  margin-top: 10px;\n  font-size: 14px;\n}\n\n.results-section {\n  margin-top: 20px;\n}\n\n.results-section h4 {\n  margin: 0 0 16px 0;\n  color: #303133;\n  font-size: 16px;\n}\n\n.beverages-list {\n  display: flex;\n  flex-direction: column;\n  gap: 12px;\n}\n\n.beverage-item {\n  display: flex;\n  gap: 12px;\n  padding: 12px;\n  background: #fff;\n  border: 1px solid #e4e7ed;\n  border-radius: 8px;\n  cursor: pointer;\n  transition: all 0.3s;\n}\n\n.beverage-item:hover {\n  border-color: #409eff;\n  box-shadow: 0 2px 12px rgba(64, 158, 255, 0.1);\n}\n\n.beverage-image {\n  width: 80px;\n  height: 80px;\n  flex-shrink: 0;\n  border-radius: 8px;\n  overflow: hidden;\n  background: #f5f7fa;\n}\n\n.beverage-image img {\n  width: 100%;\n  height: 100%;\n  object-fit: cover;\n}\n\n.beverage-image.no-image {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  color: #c0c4cc;\n  font-size: 32px;\n}\n\n.beverage-info {\n  flex: 1;\n  min-width: 0;\n}\n\n.beverage-info h5 {\n  margin: 0 0 8px 0;\n  font-size: 16px;\n  color: #303133;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n}\n\n.beverage-type {\n  margin: 4px 0;\n  color: #606266;\n  font-size: 14px;\n}\n\n.beverage-origin {\n  margin: 4px 0;\n  color: #909399;\n  font-size: 12px;\n}\n\n.beverage-rating {\n  margin-top: 8px;\n}\n\n.empty-section {\n  padding: 40px 0;\n  text-align: center;\n}\n\n/* 对话历史视图 */\n.history-view {\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  display: flex;\n  flex-direction: column;\n  background: #fff;\n  animation: fadeIn 0.3s ease-out;\n  overflow: hidden;\n}\n\n.history-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 16px 20px;\n  border-bottom: 1px solid #e4e7ed;\n  background: #fafafa;\n  font-weight: 500;\n  color: #303133;\n  font-size: 16px;\n}\n\n.history-content {\n  flex: 1;\n  overflow-y: auto;\n  padding: 20px;\n}\n\n.empty-history {\n  padding: 20px 0;\n}\n\n.history-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 8px;\n  font-weight: 500;\n  color: #303133;\n  font-size: 14px;\n}\n\n.history-list {\n  display: flex;\n  flex-direction: column;\n  gap: 8px;\n}\n\n.history-item {\n  display: flex;\n  flex-direction: column;\n  gap: 10px;\n  margin-bottom: 16px;\n  padding-bottom: 16px;\n  border-bottom: 1px solid #e4e7ed;\n}\n\n.history-item:last-child {\n  border-bottom: none;\n  margin-bottom: 0;\n  padding-bottom: 0;\n}\n\n.user-message {\n  display: flex;\n  align-items: flex-start;\n  gap: 10px;\n  padding: 12px 16px;\n  background: #ecf5ff;\n  border-radius: 8px;\n  border-left: 4px solid #409eff;\n  font-size: 14px;\n  line-height: 1.6;\n  word-break: break-word;\n  box-shadow: 0 2px 4px rgba(64, 158, 255, 0.1);\n}\n\n.user-message .el-icon {\n  color: #409eff;\n  margin-top: 2px;\n  font-size: 14px;\n}\n\n.ai-message {\n  display: flex;\n  align-items: flex-start;\n  gap: 10px;\n  padding: 12px 16px;\n  background: #f0f9ff;\n  border-radius: 8px;\n  border-left: 4px solid #67c23a;\n  color: #606266;\n  font-size: 14px;\n  line-height: 1.6;\n  word-break: break-word;\n  box-shadow: 0 2px 4px rgba(103, 194, 58, 0.1);\n  white-space: pre-wrap;\n}\n\n.ai-message .el-icon {\n  color: #67c23a;\n  margin-top: 2px;\n  font-size: 14px;\n}\n\n.wiki-list {\n  display: flex;\n  flex-direction: column;\n  gap: 10px;\n}\n\n.wiki-item {\n  padding: 10px;\n  background: #fff;\n  border: 1px solid #e4e7ed;\n  border-radius: 8px;\n  cursor: pointer;\n  transition: all 0.3s;\n}\n\n.wiki-item:hover {\n  border-color: #409eff;\n  box-shadow: 0 2px 12px rgba(64, 158, 255, 0.1);\n}\n\n.wiki-info h5 {\n  margin: 0 0 6px 0;\n  font-size: 15px;\n  color: #303133;\n}\n\n.wiki-summary {\n  margin: 4px 0;\n  color: #606266;\n  font-size: 13px;\n  line-height: 1.5;\n  display: -webkit-box;\n  -webkit-line-clamp: 2;\n  line-clamp: 2;\n  -webkit-box-orient: vertical;\n  overflow: hidden;\n}\n\n.wiki-similarity {\n  margin-top: 6px;\n  color: #909399;\n  font-size: 11px;\n}\n</style>\n\n","import script from \"./RAGFloatingWindow.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./RAGFloatingWindow.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./RAGFloatingWindow.vue?vue&type=style&index=0&id=d774821e&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-d774821e\"]])\n\nexport default __exports__","import { render } from \"./App.vue?vue&type=template&id=fa2c6558\"\nimport script from \"./App.vue?vue&type=script&lang=js\"\nexport * from \"./App.vue?vue&type=script&lang=js\"\n\nimport \"./App.vue?vue&type=style&index=0&id=fa2c6558&lang=css\"\n\nimport exportComponent from \"../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { createRouter, createWebHistory } from 'vue-router'\nimport { ElMessage } from 'element-plus'\nimport pinia from '@/store'\nimport { useUserStore } from '@/store/modules/user'\n\nconst routes = [\n  {\n    path: '/',\n    name: 'Home',\n    component: () => import('@/views/Home.vue')\n  },\n  {\n    path: '/feed',\n    name: 'Feed',\n    component: () => import('@/views/Feed.vue'),\n    meta: { requiresAuth: true }\n  },\n  {\n    path: '/nearby',\n    name: 'Nearby',\n    component: () => import('@/views/Nearby.vue')\n  },\n  {\n    path: '/ranking',\n    name: 'Ranking',\n    component: () => import('@/views/Ranking.vue'),\n    meta: { title: '热门排行' }\n  },\n  {\n    path: '/beverages',\n    name: 'BeverageList',\n    component: () => import('@/views/beverage/BeverageList.vue')\n  },\n  {\n    path: '/beverages/:id',\n    name: 'BeverageDetail',\n    component: () => import('@/views/beverage/BeverageDetail.vue')\n  },\n  {\n    path: '/bars',\n    name: 'BarList',\n    component: () => import('@/views/bar/BarList.vue')\n  },\n  {\n    path: '/bars/register',\n    name: 'BarRegister',\n    component: () => import('@/views/bar/BarRegister.vue'),\n    meta: { requiresAuth: true }\n  },\n  {\n    path: '/bars/:id',\n    name: 'BarDetail',\n    component: () => import('@/views/bar/BarDetail.vue')\n  },\n  {\n    path: '/announcements',\n    name: 'AnnouncementList',\n    component: () => import('@/views/announcement/AnnouncementList.vue')\n  },\n  {\n    path: '/wiki',\n    name: 'WikiList',\n    component: () => import('@/views/wiki/WikiList.vue')\n  },\n  {\n    path: '/wiki/edit/:id?',\n    name: 'WikiEditor',\n    component: () => import('@/views/wiki/WikiEditor.vue'),\n    meta: { requiresAuth: true }\n  },\n  {\n    path: '/wiki/:slug',\n    name: 'WikiDetail',\n    component: () => import('@/views/wiki/WikiDetail.vue')\n  },\n  {\n    path: '/posts/:id',\n    name: 'PostDetail',\n    component: () => import('@/views/post/PostDetail.vue')\n  },\n  {\n    path: '/search',\n    name: 'Search',\n    component: () => import('@/views/Search.vue')\n  },\n  {\n    path: '/messages',\n    name: 'Messages',\n    component: () => import('@/views/message/Messages.vue'),\n    meta: { requiresAuth: true }\n  },\n  {\n    path: '/login',\n    name: 'Login',\n    component: () => import('@/views/auth/Login.vue')\n  },\n  {\n    path: '/register',\n    name: 'Register',\n    component: () => import('@/views/auth/Register.vue')\n  },\n  {\n    path: '/user/profile',\n    name: 'UserProfile',\n    component: () => import('@/views/user/Profile.vue'),\n    meta: { requiresAuth: true }\n  },\n  {\n    path: '/user/settings',\n    name: 'UserSettings',\n    component: () => import('@/views/user/Settings.vue'),\n    meta: { requiresAuth: true }\n  },\n  {\n    path: '/users/:id',\n    name: 'UserHome',\n    component: () => import('@/views/user/UserHome.vue')\n  },\n  {\n    path: '/admin/moderation',\n    name: 'AdminModeration',\n    component: () => import('@/views/admin/AdminModeration.vue'),\n    meta: { requiresAuth: true, requiresAdmin: true }\n  },\n  {\n    path: '/seller/activity',\n    name: 'SellerActivity',\n    component: () => import('@/views/seller/Activity.vue'),\n    meta: { requiresAuth: true, requiresSeller: true }\n  },\n  {\n    path: '/admin/management',\n    name: 'AdminManagement',\n    redirect: '/seller/activity',\n    meta: { requiresAuth: true, requiresSeller: true }\n  },\n  {\n    path: '/activities',\n    name: 'ActivityList',\n    component: () => import('@/views/activity/ActivityList.vue'),\n    meta: { requiresAuth: true }\n  },\n  {\n    path: '/activities/create',\n    name: 'CreateActivity',\n    component: () => import('@/views/activity/CreateActivity.vue'),\n    meta: { requiresAuth: true, requiresSeller: true }\n  },\n  {\n    path: '/activities/:id',\n    name: 'ActivityDetail',\n    component: () => import('@/views/activity/ActivityDetail.vue')\n  },\n  {\n    path: '/admin/activities/review',\n    name: 'ActivityReview',\n    component: () => import('@/views/activity/ActivityList.vue'),\n    meta: { requiresAuth: true, requiresAdmin: true }\n  }\n]\n\nconst router = createRouter({\n  history: createWebHistory(process.env.BASE_URL),\n  routes\n})\n\n// 处理 chunk 加载失败的问题\nrouter.onError((error) => {\n  const pattern = /Loading chunk (\\d)+ failed/g\n  const isChunkLoadFailed = error.message && error.message.match(pattern)\n  if (isChunkLoadFailed) {\n    // 如果 chunk 加载失败，重新加载页面\n    const targetPath = router.currentRoute.value?.fullPath || window.location.pathname\n    if (targetPath && targetPath !== '/login') {\n      window.location.href = targetPath\n    }\n  }\n})\n\nrouter.beforeEach(async (to, from, next) => {\n  const userStore = useUserStore(pinia)\n  \n  // 重要：如果用户已登录（有userInfo），直接使用现有状态，不重新获取\n  // 只有在未初始化且不在加载中时才获取用户信息\n  if (!userStore.initialized && !userStore.loading) {\n    // 如果用户已经有登录信息，直接标记为已初始化，不重新获取\n    if (userStore.userInfo && userStore.userInfo.id) {\n      userStore.initialized = true\n    } else {\n      // 只有在没有用户信息时才尝试获取\n      try {\n        await userStore.fetchUserInfo()\n      } catch (error) {\n        // 如果获取用户信息失败，检查是否是401错误\n        // 401表示token过期或未登录，此时清空用户信息是合理的\n        // 其他错误（如网络错误）不影响已登录状态\n        if (error?.response?.status === 401) {\n          // 401错误，清空用户信息（fetchUserInfo中已处理）\n          // 如果页面需要认证，会跳转到登录页\n        } else {\n          // 其他错误（网络错误等），保留现有状态，不强制跳转\n          // 如果用户之前已登录，保留登录状态\n          console.log('获取用户信息失败（非401），保留现有状态:', error)\n          // 如果用户之前已登录，标记为已初始化，避免重复请求\n          if (userStore.userInfo) {\n            userStore.initialized = true\n          }\n        }\n      }\n    }\n  }\n\n  // 等待用户信息加载完成（如果正在加载）\n  if (userStore.loading) {\n    // 等待加载完成，最多等待2秒\n    let waitCount = 0\n    while (userStore.loading && waitCount < 40) {\n      await new Promise(resolve => setTimeout(resolve, 50))\n      waitCount++\n    }\n  }\n\n  // 如果页面需要认证，检查登录状态\n  // 重要：如果用户已登录（有userInfo），即使initialized为false也允许访问\n  if (to.meta.requiresAuth) {\n    // 如果用户已登录，允许访问\n    if (userStore.isLoggedIn) {\n      // 检查角色权限\n      if (to.meta.requiresAdmin && !userStore.isAdmin) {\n        ElMessage.warning('需要管理员权限')\n        next('/')\n        return\n      }\n      if (to.meta.requiresSeller && !userStore.isSeller) {\n        ElMessage.warning('需要商家权限')\n        next('/')\n        return\n      }\n      next()\n      return\n    }\n    \n    // 如果正在前往登录页，允许通过\n    if (to.path === '/login') {\n      next()\n      return\n    }\n    // 否则跳转到登录页，并保存目标路径以便登录后跳转\n    next({ path: '/login', query: { redirect: to.fullPath } })\n  } else {\n    // 不需要认证的页面，直接通过\n    next()\n  }\n})\n\nexport default router\n","import { createApp } from 'vue'\nimport App from './App.vue'\nimport router from './router'\nimport pinia from './store'\nimport ElementPlus from 'element-plus'\nimport 'element-plus/dist/index.css'\nimport * as ElementPlusIconsVue from '@element-plus/icons-vue'\n\nconst app = createApp(App)\n\n// 注册所有图标\nfor (const [key, component] of Object.entries(ElementPlusIconsVue)) {\n  app.component(key, component)\n}\n\napp.use(router)\napp.use(pinia)\napp.use(ElementPlus)\napp.mount('#app')\n","import request from './request'\n\nexport const login = (data) => {\n  return request({\n    url: '/auth/login',\n    method: 'post',\n    data\n  })\n}\n\nexport const register = (data) => {\n  return request({\n    url: '/auth/register',\n    method: 'post',\n    data\n  })\n}\n\nexport const getCurrentUser = () => {\n  return request({\n    url: '/auth/me',\n    method: 'get'\n  })\n}\n\nexport const logout = () => {\n  return request({\n    url: '/auth/logout',\n    method: 'post'\n  })\n}\n","import { ref } from 'vue'\n\nconst cachedProvinces = ref(null)\nlet loadingPromise = null\n\nconst normalizeName = (name = '') => {\n  return name\n    .trim()\n    .replace(/(市|地区|特别行政区|自治州|回族自治区|维吾尔自治区|壮族自治区|自治区|省|盟)$/u, '')\n    .toLowerCase()\n}\n\nexport const useChinaRegions = () => {\n  const provinces = ref([])\n  const loading = ref(false)\n\n  const ensureLoaded = async () => {\n    if (cachedProvinces.value) {\n      provinces.value = cachedProvinces.value\n      return cachedProvinces.value\n    }\n    if (!loadingPromise) {\n      loading.value = true\n      loadingPromise = fetch('/cities.json')\n        .then((res) => res.json())\n        .then((data) => {\n          const mapped = (data?.provinces || []).map((province) => ({\n            label: province.provinceName,\n            value: province.provinceName,\n            cities: (province.citys || []).map((city) => ({\n              label: city.cityName,\n              value: city.cityName\n            }))\n          }))\n          cachedProvinces.value = mapped\n          provinces.value = mapped\n          return mapped\n        })\n        .catch((error) => {\n          console.error('加载城市列表失败', error)\n          return []\n        })\n        .finally(() => {\n          loading.value = false\n        })\n    }\n    const result = await loadingPromise\n    provinces.value = result\n    return result\n  }\n\n  const findCityByName = (name = '') => {\n    if (!name || !cachedProvinces.value) return null\n    const target = normalizeName(name)\n    for (const province of cachedProvinces.value) {\n      if (normalizeName(province.value) === target) {\n        return {\n          province: province.value,\n          city: province.value\n        }\n      }\n      const cityMatch = province.cities.find(\n        (city) => normalizeName(city.value) === target\n      )\n      if (cityMatch) {\n        return {\n          province: province.value,\n          city: cityMatch.value\n        }\n      }\n    }\n    return null\n  }\n\n  const getDefaultCity = () => {\n    if (!cachedProvinces.value || cachedProvinces.value.length === 0) return ''\n    const firstProvince = cachedProvinces.value[0]\n    return firstProvince.cities?.[0]?.value || firstProvince.value\n  }\n\n  return {\n    provinces,\n    loading,\n    ensureLoaded,\n    findCityByName,\n    getDefaultCity\n  }\n}\n","import request from './request'\n\nexport const circleApi = {\n  // 获取动态列表（分页）\n  listPosts: (page = 1, pageSize = 12) => {\n    return request({\n      url: '/circle/posts',\n      method: 'get',\n      params: { page, pageSize }\n    })\n  },\n\n  // 获取关注用户的动态列表（分页）\n  listFeed: (page = 1, pageSize = 12) => {\n    return request({\n      url: '/circle/feed',\n      method: 'get',\n      params: { page, pageSize }\n    })\n  },\n\n  listUserPosts: (userId, page = 1, pageSize = 10) => {\n    return request({\n      url: `/circle/users/${userId}/posts`,\n      method: 'get',\n      params: { page, pageSize }\n    })\n  },\n\n  // 发布新动态\n  createPost: (data) => {\n    return request({\n      url: '/circle/posts',\n      method: 'post',\n      data\n    })\n  },\n\n  // 获取指定城市的动态列表（分页）\n  listPostsByCity: (city, page = 1, pageSize = 12) => {\n    return request({\n      url: '/circle/nearby',\n      method: 'get',\n      params: { city, page, pageSize }\n    })\n  },\n\n  // 获取单条动态详情\n  getPost: (id) => {\n    return request({\n      url: `/circle/posts/${id}`,\n      method: 'get'\n    })\n  },\n\n  likePost: (id) => {\n    return request({\n      url: `/circle/posts/${id}/like`,\n      method: 'post'\n    })\n  },\n\n  favoritePost: (id) => {\n    return request({\n      url: `/circle/posts/${id}/favorite`,\n      method: 'post'\n    })\n  },\n\n  getComments: (id) => {\n    return request({\n      url: `/circle/posts/${id}/comments`,\n      method: 'get'\n    })\n  },\n\n  createComment: (id, data) => {\n    return request({\n      url: `/circle/posts/${id}/comments`,\n      method: 'post',\n      data\n    })\n  },\n\n  // 删除动态\n  deletePost: (id) => {\n    return request({\n      url: `/circle/posts/${id}`,\n      method: 'delete'\n    })\n  },\n\n  // 删除评论\n  deleteComment: (id) => {\n    return request({\n      url: `/circle/comments/${id}`,\n      method: 'delete'\n    })\n  },\n\n  // 获取热门动态排行榜\n  getHotPosts: (timeDimension = 'WEEK', page = 1, pageSize = 12) => {\n    return request({\n      url: '/ranking/hot',\n      method: 'get',\n      params: { timeDimension, page, pageSize }\n    })\n  }\n}","import { createPinia } from 'pinia'\n\nconst pinia = createPinia()\n\nexport default pinia\n","<template>\n  <div :class=\"['share-composer', mode]\">\n    <div class=\"composer-main\">\n      <div class=\"composer-avatar\">\n        <el-avatar\n          :src=\"userStore.userInfo?.avatarUrl\"\n          :size=\"48\"\n          :alt=\"`${userStore.userInfo?.username || '用户'}的头像`\"\n        />\n      </div>\n      <div class=\"composer-body\">\n        <el-input\n          v-model=\"form.content\"\n          type=\"textarea\"\n          :rows=\"mode === 'modal' ? 6 : 3\"\n          maxlength=\"2000\"\n          show-word-limit\n          resize=\"none\"\n          placeholder=\"分享此刻，聊聊你正在喝的、看到的、想到的一切...\"\n        />\n\n        <div class=\"composer-fields\">\n          <el-select\n            v-model=\"form.tags\"\n            multiple\n            filterable\n            allow-create\n            default-first-option\n            collapse-tags\n            :multiple-limit=\"5\"\n            placeholder=\"添加话题标签，如 上海、精酿、金酒\"\n          />\n          <div class=\"location-field\">\n            <el-select\n              v-model=\"selectedCity\"\n              filterable\n              clearable\n              :loading=\"regionsLoading\"\n              :placeholder=\"regionsLoading ? '地区加载中…' : '选择地点（可选）'\"\n              @change=\"handleCityChange\"\n            >\n              <el-option-group\n                v-for=\"province in provinces\"\n                :key=\"province.value\"\n                :label=\"province.label\"\n              >\n                <el-option\n                  v-for=\"city in province.cities\"\n                  :key=\"city.value\"\n                  :label=\"city.label\"\n                  :value=\"city.value\"\n                />\n              </el-option-group>\n            </el-select>\n            <el-button\n              class=\"locate-btn\"\n              text\n              size=\"small\"\n              :loading=\"locating\"\n              @click=\"handleAutoLocate(true)\"\n            >\n              {{ locating ? '定位中…' : '自动定位' }}\n            </el-button>\n          </div>\n        </div>\n\n        <div class=\"composer-upload\">\n          <el-upload\n            v-if=\"mode === 'modal'\"\n            v-model:file-list=\"uploadFileList\"\n            list-type=\"picture-card\"\n            action=\"/api/files/upload?category=POST\"\n            multiple\n            :on-success=\"handleUploadSuccess\"\n            :on-remove=\"handleRemove\"\n            :before-upload=\"beforeUpload\"\n            :on-error=\"handleUploadError\"\n            accept=\"image/*\"\n          >\n            <el-icon><Plus /></el-icon>\n          </el-upload>\n          <div v-else class=\"inline-upload\">\n            <button\n              type=\"button\"\n              class=\"inline-plus\"\n              aria-label=\"添加图片\"\n              title=\"添加图片\"\n              @click=\"triggerInlineUpload\"\n            >\n              <el-icon><Plus /></el-icon>\n            </button>\n            <input\n              ref=\"inlineInputRef\"\n              type=\"file\"\n              accept=\"image/*\"\n              multiple\n              class=\"hidden-input\"\n              @change=\"handleInlineFiles\"\n            >\n            <div class=\"inline-preview\" v-if=\"thumbnails.length\">\n              <div v-for=\"(item, index) in thumbnails\" :key=\"item.uid\" class=\"thumb\">\n                <img :src=\"item.url\" :alt=\"`已选择的图片${index + 1}`\">\n                <el-icon class=\"remove\" @click=\"removeThumbnail(item.uid)\"><Close /></el-icon>\n              </div>\n            </div>\n          </div>\n          <p class=\"hint\">可上传 5 张以内图片，单张不超过 5MB</p>\n        </div>\n\n        <div class=\"composer-footer\">\n          <div class=\"meta\">\n            <span>已添加 {{ form.tags.length }} 个标签</span>\n            <span v-if=\"form.imageIds.length\">图片 {{ form.imageIds.length }} 张</span>\n          </div>\n          <el-button type=\"primary\" size=\"small\" :loading=\"submitting\" @click=\"handleSubmit\">\n            立即发布\n          </el-button>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup>\nimport { computed, reactive, ref, onMounted } from 'vue'\nimport { useUserStore } from '@/store/modules/user'\nimport { circleApi } from '@/api/circle'\nimport { ElMessage } from 'element-plus'\nimport { Plus, Close } from '@element-plus/icons-vue'\nimport { useChinaRegions } from '@/composables/useChinaRegions'\nimport { useCityDetection } from '@/composables/useCityDetection'\n\nconst props = defineProps({\n  mode: {\n    type: String,\n    default: 'inline' // inline | modal\n  }\n})\n\nconst emit = defineEmits(['submitted'])\n\nconst userStore = useUserStore()\nconst submitting = ref(false)\nconst uploadFileList = ref([])\nconst thumbnails = ref([])\nconst inlineInputRef = ref(null)\n\nconst form = reactive({\n  content: '',\n  tags: [],\n  location: '',\n  imageIds: []\n})\n\nconst selectedCity = ref('')\nconst { provinces, loading: regionsLoading, ensureLoaded, findCityByName } = useChinaRegions()\nconst { detecting: locating, detectCity } = useCityDetection()\n\nconst beforeUpload = (file) => {\n  const isImage = file.type.startsWith('image/')\n  const isLt5M = file.size / 1024 / 1024 < 5\n  if (!isImage) {\n    ElMessage.error('只能上传图片文件')\n    return false\n  }\n  if (!isLt5M) {\n    ElMessage.error('图片大小不能超过 5MB')\n    return false\n  }\n  return true\n}\n\nconst handleUploadSuccess = (response, file, fileList) => {\n  if (response.code === 200 && response.data?.id) {\n    form.imageIds.push(response.data.id)\n    uploadFileList.value = fileList\n  } else {\n    ElMessage.error('上传失败，请重试')\n  }\n}\n\nconst handleRemove = (file, fileList) => {\n  const uid = file.response?.data?.id\n  if (uid) {\n    form.imageIds = form.imageIds.filter(id => id !== uid)\n  }\n  uploadFileList.value = fileList\n}\n\nconst handleUploadError = () => {\n  ElMessage.error('图片上传失败')\n}\n\nconst triggerInlineUpload = () => {\n  inlineInputRef.value?.click()\n}\n\nconst handleInlineFiles = async (event) => {\n  const files = Array.from(event.target.files || [])\n  for (const file of files) {\n    if (!beforeUpload(file)) continue\n    const formData = new FormData()\n    formData.append('file', file)\n    try {\n      const result = await fetch('/api/files/upload?category=POST', {\n        method: 'POST',\n        body: formData,\n        credentials: 'include'\n      }).then(res => res.json())\n      if (result.code === 200 && result.data?.id) {\n        form.imageIds.push(result.data.id)\n        thumbnails.value.push({\n          uid: `${Date.now()}-${Math.random()}`,\n          url: result.data.url\n        })\n      } else {\n        ElMessage.error(result.message || '上传失败')\n      }\n    } catch (error) {\n      ElMessage.error('上传失败')\n    }\n  }\n  if (inlineInputRef.value) {\n    inlineInputRef.value.value = ''\n  }\n}\n\nconst removeThumbnail = (uid) => {\n  const index = thumbnails.value.findIndex(item => item.uid === uid)\n  if (index > -1) {\n    thumbnails.value.splice(index, 1)\n    form.imageIds.splice(index, 1)\n  }\n}\n\nconst applyCitySelection = (city) => {\n  selectedCity.value = city || ''\n  form.location = city || ''\n}\n\nconst syncLocationWithOptions = async (locationValue) => {\n  if (!locationValue) {\n    applyCitySelection('')\n    return\n  }\n  await ensureLoaded()\n  const match = findCityByName(locationValue)\n  applyCitySelection(match?.city || locationValue)\n}\n\nconst handleCityChange = (value) => {\n  form.location = value || ''\n}\n\nconst handleAutoLocate = async (showToast = false) => {\n  await ensureLoaded()\n  const detected = await detectCity()\n  if (!detected) {\n    if (showToast) {\n      ElMessage.warning('无法自动定位，请手动选择')\n    }\n    return\n  }\n  const match = findCityByName(detected)\n  if (match?.city) {\n    applyCitySelection(match.city)\n    if (showToast) {\n      ElMessage.success(`已定位到 ${match.city}`)\n    }\n    return\n  }\n  if (showToast) {\n    ElMessage.warning('未找到匹配城市，请手动选择')\n  }\n}\n\nconst handleSubmit = async () => {\n  if (!form.content.trim()) {\n    ElMessage.warning('请输入分享内容')\n    return\n  }\n  submitting.value = true\n  try {\n    await circleApi.createPost({\n      content: form.content,\n      location: form.location,\n      imageIds: form.imageIds,\n      tags: form.tags\n    })\n    ElMessage.success('发布成功')\n    emit('submitted')\n    resetForm()\n  } catch (error) {\n    ElMessage.error(error.message || '发布失败')\n  } finally {\n    submitting.value = false\n  }\n}\n\nconst resetForm = () => {\n  form.content = ''\n  form.tags = []\n  form.location = ''\n  form.imageIds = []\n  uploadFileList.value = []\n  thumbnails.value = []\n  selectedCity.value = ''\n}\n\nconst fillForm = (data = {}) => {\n  form.content = data.content || ''\n  form.tags = data.tags ? [...data.tags] : []\n  form.location = data.location || ''\n  form.imageIds = data.imageIds ? [...data.imageIds] : []\n  syncLocationWithOptions(form.location)\n}\n\nconst hasUnsaved = computed(() => {\n  return !!(form.content.trim() || form.tags.length || form.location || form.imageIds.length)\n})\n\nconst getSnapshot = () => ({\n  content: form.content,\n  tags: form.tags,\n  location: form.location,\n  imageIds: form.imageIds\n})\n\nonMounted(async () => {\n  await ensureLoaded()\n  if (form.location) {\n    await syncLocationWithOptions(form.location)\n  } else {\n    await handleAutoLocate(false)\n  }\n})\n\ndefineExpose({\n  resetForm,\n  fillForm,\n  hasUnsaved,\n  getSnapshot\n})\n</script>\n\n<style scoped>\n.share-composer {\n  width: 100%;\n}\n\n.composer-main {\n  display: flex;\n  gap: 16px;\n}\n\n.composer-avatar {\n  flex-shrink: 0;\n}\n\n.composer-body {\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n  gap: 12px;\n}\n\n.composer-fields {\n  display: grid;\n  grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));\n  gap: 12px;\n}\n\n.location-field {\n  display: flex;\n  align-items: center;\n  gap: 8px;\n}\n\n.location-field :deep(.el-select) {\n  flex: 1;\n}\n\n.locate-btn {\n  padding: 0 8px;\n}\n\n.composer-upload {\n  border: 1px solid #eceff5;\n  border-radius: 12px;\n  padding: 12px 16px;\n  background: #fff;\n}\n\n.inline-upload {\n  display: flex;\n  flex-direction: column;\n  gap: 12px;\n}\n\n.inline-plus {\n  width: 36px;\n  height: 36px;\n  border-radius: 50%;\n  border: 1px solid #d8dee9;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  cursor: pointer;\n  background: #fff;\n  color: #1f2d3d;\n  transition: border-color 0.2s, color 0.2s;\n  padding: 0;\n  font-size: 16px;\n}\n\n.inline-plus:hover {\n  border-color: #1f2d3d;\n  color: #1f2d3d;\n}\n\n\n.hidden-input {\n  display: none;\n  appearance: none;\n  -webkit-appearance: none;\n  -moz-appearance: none;\n}\n\n.inline-preview {\n  display: flex;\n  gap: 8px;\n  flex-wrap: wrap;\n}\n\n.thumb {\n  position: relative;\n  width: 80px;\n  height: 80px;\n  border-radius: 6px;\n  overflow: hidden;\n}\n\n.thumb img {\n  width: 100%;\n  height: 100%;\n  object-fit: cover;\n}\n\n.thumb .remove {\n  position: absolute;\n  top: 4px;\n  right: 4px;\n  background: rgba(0, 0, 0, 0.5);\n  color: #fff;\n  border-radius: 50%;\n  cursor: pointer;\n  font-size: 12px;\n  padding: 2px;\n}\n\n.hint {\n  color: #909399;\n  font-size: 12px;\n  margin-top: 8px;\n}\n\n.composer-footer {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n}\n\n.composer-footer .meta {\n  color: #909399;\n  font-size: 12px;\n  display: flex;\n  gap: 12px;\n}\n</style>\n","import script from \"./ShareComposer.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./ShareComposer.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./ShareComposer.vue?vue&type=style&index=0&id=01ddcbe4&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-01ddcbe4\"]])\n\nexport default __exports__","import { ref } from 'vue'\n\nlet cachedCity = ''\nlet pendingPromise = null\n\nexport const useCityDetection = () => {\n  const detecting = ref(false)\n  const detectedCity = ref(cachedCity)\n\n  const detectCity = async () => {\n    if (cachedCity) {\n      detectedCity.value = cachedCity\n      return cachedCity\n    }\n    if (pendingPromise) {\n      return pendingPromise\n    }\n    detecting.value = true\n    pendingPromise = fetch('https://api.vore.top/api/IPdata?ip=')\n      .then((res) => res.json())\n      .then((data) => {\n        const city =\n          data?.ipdata?.info1 ||\n          data?.adcode?.c ||\n          data?.ipdata?.info2 ||\n          ''\n        cachedCity = (city || '').replace(/\\s+/g, '')\n        detectedCity.value = cachedCity\n        return cachedCity\n      })\n      .catch((error) => {\n        console.error('自动定位失败', error)\n        return ''\n      })\n      .finally(() => {\n        detecting.value = false\n        pendingPromise = null\n      })\n    return pendingPromise\n  }\n\n  return {\n    detecting,\n    detectedCity,\n    detectCity\n  }\n}\n","import { defineStore } from 'pinia'\nimport { getCurrentUser, logout as logoutApi } from '@/api/auth'\n\nexport const useUserStore = defineStore('user', {\n  state: () => ({\n    userInfo: null,\n    loading: false,\n    initialized: false\n  }),\n\n  getters: {\n    isLoggedIn: (state) => !!state.userInfo?.id,\n    isAdmin: (state) => state.userInfo?.role === 'ADMIN',\n    isSeller: (state) => state.userInfo?.role === 'SELLER'\n  },\n\n  actions: {\n    setUserInfo(userInfo) {\n      this.userInfo = userInfo\n      this.initialized = true  // 标记已初始化\n    },\n\n    async fetchUserInfo() {\n      // 重要：如果用户已登录，直接返回，不需要重新获取\n      // 这样可以避免不必要的API调用，也避免误判登录状态\n      if (this.userInfo && this.userInfo.id) {\n        this.initialized = true\n        return\n      }\n      \n      // 如果已经在加载中，避免重复请求\n      if (this.loading) {\n        // 等待当前请求完成\n        while (this.loading) {\n          await new Promise(resolve => setTimeout(resolve, 50))\n        }\n        // 等待完成后，如果已经有用户信息，直接返回\n        if (this.userInfo && this.userInfo.id) {\n          this.initialized = true\n          return\n        }\n      }\n      \n      this.loading = true\n      try {\n        const res = await getCurrentUser()\n        this.userInfo = res.data\n        this.initialized = true\n      } catch (err) {\n        // 只有在明确是401未授权错误时才清空用户信息\n        // 其他错误（如网络错误）保留现有用户信息，避免误判\n        if (err?.response?.status === 401) {\n          // 401错误，说明token确实过期或无效\n          this.userInfo = null\n          this.initialized = true\n        } else {\n          // 网络错误等其他错误，如果用户之前已登录，保留登录状态\n          // 不设置initialized为true，允许下次重试\n          console.log('获取用户信息失败（非401），保留现有状态:', err)\n          // 如果之前有用户信息，保留它\n          if (this.userInfo) {\n            console.log('保留现有用户信息，不因网络错误而清空')\n          }\n        }\n        return Promise.reject(err)\n      } finally {\n        this.loading = false\n      }\n    },\n\n    async logout() {\n      await logoutApi()\n      this.userInfo = null\n      this.initialized = true\n    }\n  }\n})\n","import axios from 'axios'\nimport { ElMessage } from 'element-plus'\nimport pinia from '@/store'\nimport { useUserStore } from '@/store/modules/user'\n\nconst request = axios.create({\n  baseURL: '/api',\n  timeout: 30000,\n  withCredentials: true\n})\n\n// 请求重试配置\nconst MAX_RETRIES = 3\nconst RETRY_DELAY = 1000 // 1秒\nconst RETRY_DELAY_MULTIPLIER = 2 // 每次重试延迟翻倍\n\n// 判断是否为连接错误（后端未启动）\nconst isConnectionError = (error) => {\n  return (\n    error.code === 'ECONNREFUSED' ||\n    error.message?.includes('ECONNREFUSED') ||\n    error.message?.includes('Network Error') ||\n    (error.response === undefined && error.request !== undefined)\n  )\n}\n\n// 判断是否应该静默处理（不显示错误消息）\nconst shouldSilentRetry = (config) => {\n  const url = config?.url || ''\n  // 对于这些接口，连接失败时静默重试，不显示错误\n  const silentRetryUrls = ['/auth/me', '/recommend/posts', '/circle/posts', '/daily-question/today']\n  return silentRetryUrls.some(path => url.includes(path))\n}\n\n// 请求拦截器：添加重试逻辑\nrequest.interceptors.request.use(\n  (config) => {\n    // 初始化重试次数\n    if (!config.__retryCount) {\n      config.__retryCount = 0\n    }\n    return config\n  },\n  (error) => {\n    return Promise.reject(error)\n  }\n)\n\n// 响应拦截器\nrequest.interceptors.response.use(\n  (response) => {\n    const res = response.data\n    if (res.code !== 200) {\n      ElMessage.error(res.message || '请求失败')\n      return Promise.reject(new Error(res.message || 'Error'))\n    }\n    return res\n  },\n  async (error) => {\n    const config = error.config || {}\n\n    // 如果是连接错误且可以重试\n    if (isConnectionError(error) && config.__retryCount < MAX_RETRIES) {\n      config.__retryCount = config.__retryCount || 0\n      config.__retryCount += 1\n\n      // 计算延迟时间（指数退避）\n      const delay = RETRY_DELAY * Math.pow(RETRY_DELAY_MULTIPLIER, config.__retryCount - 1)\n\n      // 静默重试：不显示错误消息\n      if (shouldSilentRetry(config)) {\n        // 等待后重试\n        await new Promise(resolve => setTimeout(resolve, delay))\n        return request(config)\n      } else {\n        // 非静默重试：显示重试消息\n        console.log(`请求失败，${delay}ms后重试 (${config.__retryCount}/${MAX_RETRIES}):`, config.url)\n        await new Promise(resolve => setTimeout(resolve, delay))\n        return request(config)\n      }\n    }\n\n    // 处理其他错误\n    if (error.response) {\n      const { status, config, data } = error.response\n      const requestUrl = config?.url || ''\n      const isAuthCheck = requestUrl.includes('/auth/me')\n      const isAuthPage = ['/login', '/register'].some((path) => window.location.pathname.startsWith(path))\n      const isAuthEndpoint = ['/auth/login', '/auth/register'].some((path) => requestUrl.includes(path))\n      const serverMessage = data?.message\n\n      switch (status) {\n        case 400:\n          // 400错误通常是参数错误，不应该导致退出登录\n          // 只显示错误消息，不清空登录状态\n          ElMessage.error(serverMessage || '请求参数错误')\n          // 不reject，避免触发其他错误处理\n          return Promise.reject(error)\n        case 401:\n          // 重要：只有在 /auth/me 接口返回401时才清空用户信息\n          // 其他接口的401错误可能是权限问题，不应该清空登录状态\n          if (isAuthCheck) {\n            // /auth/me 返回401，说明token确实过期或无效\n            const userStore = useUserStore(pinia)\n            const wasLoggedIn = !!userStore.userInfo\n            \n            // 清空用户信息\n            userStore.userInfo = null\n            userStore.initialized = true\n            \n            // 不显示错误消息，让路由守卫处理跳转\n            break\n          }\n          \n          // 如果是登录/注册接口，不处理\n          if (isAuthEndpoint) {\n            break\n          }\n          \n          // 如果已经在登录/注册页面，不处理\n          if (isAuthPage) {\n            break\n          }\n          \n          // 其他接口的401错误：可能是权限问题，不清空登录状态\n          // 只显示错误消息，让用户知道需要权限\n          ElMessage.error(serverMessage || '没有权限访问此资源')\n          break\n        case 403:\n          ElMessage.error(serverMessage || '没有访问权限')\n          break\n        case 404:\n          ElMessage.error(serverMessage || '请求的资源不存在')\n          break\n        default:\n          // 连接错误且已重试多次，才显示错误\n          if (!isConnectionError(error)) {\n            ElMessage.error(serverMessage || error.message || '请求失败')\n          } else if (!shouldSilentRetry(config)) {\n            ElMessage.error('无法连接到服务器，请检查后端服务是否已启动')\n          }\n      }\n    } else {\n      // 连接错误且已重试多次\n      if (isConnectionError(error) && config.__retryCount >= MAX_RETRIES) {\n        if (!shouldSilentRetry(config)) {\n          ElMessage.error('无法连接到服务器，请检查后端服务是否已启动')\n        }\n      } else if (!isConnectionError(error)) {\n        ElMessage.error('网络错误，请稍后再试')\n      }\n    }\n    return Promise.reject(error)\n  }\n)\n\nexport default request\n","import request from './request'\n\n// 推荐 API\nexport const recommendApi = {\n  // 获取推荐动态\n  getRecommendedPosts: (page = 1, size = 10) => {\n    return request({\n      url: '/recommend/posts',\n      method: 'get',\n      params: { page, size }\n    })\n  },\n\n  // 获取推荐用户\n  getRecommendedUsers: (size = 10) => {\n    return request({\n      url: '/recommend/users',\n      method: 'get',\n      params: { size }\n    })\n  },\n\n  // 获取推荐酒吧\n  getRecommendedBars: (page = 1, size = 10) => {\n    return request({\n      url: '/recommend/bars',\n      method: 'get',\n      params: { page, size }\n    })\n  },\n\n  // 获取推荐酒饮\n  getRecommendedBeverages: (page = 1, size = 10) => {\n    return request({\n      url: '/recommend/beverages',\n      method: 'get',\n      params: { page, size }\n    })\n  },\n\n  // 获取相似动态\n  getSimilarPosts: (postId, size = 5) => {\n    return request({\n      url: `/recommend/similar-posts/${postId}`,\n      method: 'get',\n      params: { size }\n    })\n  },\n  \n  // RAG智能推荐酒饮（支持对话历史）\n  ragRecommendBeveragesWithHistory: (data) => {\n    return request({\n      url: '/recommend/beverages/rag',\n      method: 'post',\n      data\n    })\n  }\n}\n\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var deferred = [];\n__webpack_require__.O = function(result, chunkIds, fn, priority) {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar chunkIds = deferred[i][0];\n\t\tvar fn = deferred[i][1];\n\t\tvar priority = deferred[i][2];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every(function(key) { return __webpack_require__.O[key](chunkIds[j]); })) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.f = {};\n// This file contains only the entry chunk.\n// The chunk loading function for additional chunks\n__webpack_require__.e = function(chunkId) {\n\treturn Promise.all(Object.keys(__webpack_require__.f).reduce(function(promises, key) {\n\t\t__webpack_require__.f[key](chunkId, promises);\n\t\treturn promises;\n\t}, []));\n};","// This function allow to reference async chunks\n__webpack_require__.u = function(chunkId) {\n\t// return url for filenames based on template\n\treturn \"js/\" + chunkId + \".\" + {\"62\":\"967d48a9\",\"72\":\"467ecb3f\",\"77\":\"fabff78e\",\"79\":\"484da575\",\"99\":\"2e1e00ee\",\"209\":\"8fe80946\",\"215\":\"5f829307\",\"357\":\"287bfe03\",\"379\":\"1d4da5f8\",\"423\":\"880b109e\",\"448\":\"940a591f\",\"481\":\"80c13581\",\"493\":\"4caa633a\",\"508\":\"369558ee\",\"529\":\"687fb907\",\"545\":\"615a8ab5\",\"598\":\"48a458e7\",\"660\":\"a3173fd6\",\"661\":\"8558f0e8\",\"747\":\"826ca2db\",\"852\":\"b4d4d30c\",\"857\":\"238fbb21\",\"882\":\"46325840\",\"889\":\"03e8acfa\",\"953\":\"f2338462\",\"961\":\"39519383\"}[chunkId] + \".js\";\n};","// This function allow to reference async chunks\n__webpack_require__.miniCssF = function(chunkId) {\n\t// return url for filenames based on template\n\treturn \"css/\" + chunkId + \".\" + {\"62\":\"0702b1be\",\"72\":\"a8a3e300\",\"77\":\"de55bd90\",\"79\":\"cd578793\",\"99\":\"9dbec6b8\",\"209\":\"faf4d9f2\",\"215\":\"058e7250\",\"357\":\"b72e25c8\",\"379\":\"79902278\",\"423\":\"97895b15\",\"448\":\"a812670a\",\"481\":\"fad25851\",\"493\":\"d122cfb1\",\"508\":\"45abe418\",\"529\":\"403807fa\",\"545\":\"394355ec\",\"598\":\"a9a046df\",\"660\":\"67213bc4\",\"661\":\"e17b2dc0\",\"747\":\"ab0a420e\",\"852\":\"e57a2a5d\",\"857\":\"e5a0ac62\",\"882\":\"39421062\",\"889\":\"d90c4199\",\"953\":\"f22993bd\",\"961\":\"a4b1f1f1\"}[chunkId] + \".css\";\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","var inProgress = {};\nvar dataWebpackPrefix = \"Chunyin:\";\n// loadScript function to load a script via script tag\n__webpack_require__.l = function(url, done, key, chunkId) {\n\tif(inProgress[url]) { inProgress[url].push(done); return; }\n\tvar script, needAttach;\n\tif(key !== undefined) {\n\t\tvar scripts = document.getElementsByTagName(\"script\");\n\t\tfor(var i = 0; i < scripts.length; i++) {\n\t\t\tvar s = scripts[i];\n\t\t\tif(s.getAttribute(\"src\") == url || s.getAttribute(\"data-webpack\") == dataWebpackPrefix + key) { script = s; break; }\n\t\t}\n\t}\n\tif(!script) {\n\t\tneedAttach = true;\n\t\tscript = document.createElement('script');\n\n\t\tscript.charset = 'utf-8';\n\t\tif (__webpack_require__.nc) {\n\t\t\tscript.setAttribute(\"nonce\", __webpack_require__.nc);\n\t\t}\n\t\tscript.setAttribute(\"data-webpack\", dataWebpackPrefix + key);\n\n\t\tscript.src = url;\n\t}\n\tinProgress[url] = [done];\n\tvar onScriptComplete = function(prev, event) {\n\t\t// avoid mem leaks in IE.\n\t\tscript.onerror = script.onload = null;\n\t\tclearTimeout(timeout);\n\t\tvar doneFns = inProgress[url];\n\t\tdelete inProgress[url];\n\t\tscript.parentNode && script.parentNode.removeChild(script);\n\t\tdoneFns && doneFns.forEach(function(fn) { return fn(event); });\n\t\tif(prev) return prev(event);\n\t}\n\tvar timeout = setTimeout(onScriptComplete.bind(null, undefined, { type: 'timeout', target: script }), 120000);\n\tscript.onerror = onScriptComplete.bind(null, script.onerror);\n\tscript.onload = onScriptComplete.bind(null, script.onload);\n\tneedAttach && document.head.appendChild(script);\n};","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.p = \"/\";","if (typeof document === \"undefined\") return;\nvar createStylesheet = function(chunkId, fullhref, oldTag, resolve, reject) {\n\tvar linkTag = document.createElement(\"link\");\n\n\tlinkTag.rel = \"stylesheet\";\n\tlinkTag.type = \"text/css\";\n\tif (__webpack_require__.nc) {\n\t\tlinkTag.nonce = __webpack_require__.nc;\n\t}\n\tvar onLinkComplete = function(event) {\n\t\t// avoid mem leaks.\n\t\tlinkTag.onerror = linkTag.onload = null;\n\t\tif (event.type === 'load') {\n\t\t\tresolve();\n\t\t} else {\n\t\t\tvar errorType = event && event.type;\n\t\t\tvar realHref = event && event.target && event.target.href || fullhref;\n\t\t\tvar err = new Error(\"Loading CSS chunk \" + chunkId + \" failed.\\n(\" + errorType + \": \" + realHref + \")\");\n\t\t\terr.name = \"ChunkLoadError\";\n\t\t\terr.code = \"CSS_CHUNK_LOAD_FAILED\";\n\t\t\terr.type = errorType;\n\t\t\terr.request = realHref;\n\t\t\tif (linkTag.parentNode) linkTag.parentNode.removeChild(linkTag)\n\t\t\treject(err);\n\t\t}\n\t}\n\tlinkTag.onerror = linkTag.onload = onLinkComplete;\n\tlinkTag.href = fullhref;\n\n\n\tif (oldTag) {\n\t\toldTag.parentNode.insertBefore(linkTag, oldTag.nextSibling);\n\t} else {\n\t\tdocument.head.appendChild(linkTag);\n\t}\n\treturn linkTag;\n};\nvar findStylesheet = function(href, fullhref) {\n\tvar existingLinkTags = document.getElementsByTagName(\"link\");\n\tfor(var i = 0; i < existingLinkTags.length; i++) {\n\t\tvar tag = existingLinkTags[i];\n\t\tvar dataHref = tag.getAttribute(\"data-href\") || tag.getAttribute(\"href\");\n\t\tif(tag.rel === \"stylesheet\" && (dataHref === href || dataHref === fullhref)) return tag;\n\t}\n\tvar existingStyleTags = document.getElementsByTagName(\"style\");\n\tfor(var i = 0; i < existingStyleTags.length; i++) {\n\t\tvar tag = existingStyleTags[i];\n\t\tvar dataHref = tag.getAttribute(\"data-href\");\n\t\tif(dataHref === href || dataHref === fullhref) return tag;\n\t}\n};\nvar loadStylesheet = function(chunkId) {\n\treturn new Promise(function(resolve, reject) {\n\t\tvar href = __webpack_require__.miniCssF(chunkId);\n\t\tvar fullhref = __webpack_require__.p + href;\n\t\tif(findStylesheet(href, fullhref)) return resolve();\n\t\tcreateStylesheet(chunkId, fullhref, null, resolve, reject);\n\t});\n}\n// object to store loaded CSS chunks\nvar installedCssChunks = {\n\t524: 0\n};\n\n__webpack_require__.f.miniCss = function(chunkId, promises) {\n\tvar cssChunks = {\"62\":1,\"72\":1,\"77\":1,\"79\":1,\"99\":1,\"209\":1,\"215\":1,\"357\":1,\"379\":1,\"423\":1,\"448\":1,\"481\":1,\"493\":1,\"508\":1,\"529\":1,\"545\":1,\"598\":1,\"660\":1,\"661\":1,\"747\":1,\"852\":1,\"857\":1,\"882\":1,\"889\":1,\"953\":1,\"961\":1};\n\tif(installedCssChunks[chunkId]) promises.push(installedCssChunks[chunkId]);\n\telse if(installedCssChunks[chunkId] !== 0 && cssChunks[chunkId]) {\n\t\tpromises.push(installedCssChunks[chunkId] = loadStylesheet(chunkId).then(function() {\n\t\t\tinstalledCssChunks[chunkId] = 0;\n\t\t}, function(e) {\n\t\t\tdelete installedCssChunks[chunkId];\n\t\t\tthrow e;\n\t\t}));\n\t}\n};\n\n// no hmr\n\n// no prefetching\n\n// no preloaded","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t524: 0\n};\n\n__webpack_require__.f.j = function(chunkId, promises) {\n\t\t// JSONP chunk loading for javascript\n\t\tvar installedChunkData = __webpack_require__.o(installedChunks, chunkId) ? installedChunks[chunkId] : undefined;\n\t\tif(installedChunkData !== 0) { // 0 means \"already installed\".\n\n\t\t\t// a Promise means \"currently loading\".\n\t\t\tif(installedChunkData) {\n\t\t\t\tpromises.push(installedChunkData[2]);\n\t\t\t} else {\n\t\t\t\tif(true) { // all chunks have JS\n\t\t\t\t\t// setup Promise in chunk cache\n\t\t\t\t\tvar promise = new Promise(function(resolve, reject) { installedChunkData = installedChunks[chunkId] = [resolve, reject]; });\n\t\t\t\t\tpromises.push(installedChunkData[2] = promise);\n\n\t\t\t\t\t// start chunk loading\n\t\t\t\t\tvar url = __webpack_require__.p + __webpack_require__.u(chunkId);\n\t\t\t\t\t// create error before stack unwound to get useful stacktrace later\n\t\t\t\t\tvar error = new Error();\n\t\t\t\t\tvar loadingEnded = function(event) {\n\t\t\t\t\t\tif(__webpack_require__.o(installedChunks, chunkId)) {\n\t\t\t\t\t\t\tinstalledChunkData = installedChunks[chunkId];\n\t\t\t\t\t\t\tif(installedChunkData !== 0) installedChunks[chunkId] = undefined;\n\t\t\t\t\t\t\tif(installedChunkData) {\n\t\t\t\t\t\t\t\tvar errorType = event && (event.type === 'load' ? 'missing' : event.type);\n\t\t\t\t\t\t\t\tvar realSrc = event && event.target && event.target.src;\n\t\t\t\t\t\t\t\terror.message = 'Loading chunk ' + chunkId + ' failed.\\n(' + errorType + ': ' + realSrc + ')';\n\t\t\t\t\t\t\t\terror.name = 'ChunkLoadError';\n\t\t\t\t\t\t\t\terror.type = errorType;\n\t\t\t\t\t\t\t\terror.request = realSrc;\n\t\t\t\t\t\t\t\tinstalledChunkData[1](error);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t\t__webpack_require__.l(url, loadingEnded, \"chunk-\" + chunkId, chunkId);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n};\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = function(chunkId) { return installedChunks[chunkId] === 0; };\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = function(parentChunkLoadingFunction, data) {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some(function(id) { return installedChunks[id] !== 0; })) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkChunyin\"] = self[\"webpackChunkChunyin\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [504], function() { return __webpack_require__(1072); })\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["id","_createElementBlock","_hoisted_1","_createVNode","_component_el_container","_component_el_header","_component_Header","_component_el_main","_component_router_view","_component_el_footer","_component_Footer","_component_RAGFloatingWindow","props","__props","emit","__emit","visible","computed","get","modelValue","set","value","composerRef","ref","closeModal","done","resetForm","handlePosted","handleClose","hasUnsaved","ElMessageBox","confirm","confirmButtonText","cancelButtonText","type","distinguishCancelAndClose","then","catch","_createBlock","_component_el_dialog","$event","width","header","_withCtx","_createElementVNode","_component_el_button","text","onClick","_component_el_icon","_unref","Close","ShareComposer","mode","onSubmitted","__exports__","router","useRouter","route","useRoute","userStore","useUserStore","searchKeyword","showShareModal","navItems","baseItems","path","label","isAdmin","splice","isSeller","onMounted","initialized","loading","fetchUserInfo","goHome","push","handleNavClick","isLoggedIn","ElMessage","warning","goToFeed","goToMessages","goToFeeds","goToCollections","goToHistory","goToUserActivity","goToSellerActivity","goToAdminReview","goLogin","goRegister","goSearch","query","q","triggerShare","refreshAfterShare","replace","currentRoute","fullPath","handleCommand","async","command","logout","success","_hoisted_2","_hoisted_3","class","_hoisted_4","_Fragment","_renderList","nav","key","_normalizeClass","active","startsWith","_hoisted_5","_hoisted_6","_component_el_input","placeholder","onKeyup","_withKeys","clearable","prefix","_component_Search","_hoisted_7","_hoisted_8","_component_el_dropdown","onCommand","dropdown","_component_el_dropdown_menu","_component_el_dropdown_item","_cache","divided","style","_hoisted_9","_component_el_avatar","size","src","userInfo","avatarUrl","alt","username","_component_User","_hoisted_10","plain","ShareModal","onPosted","name","results","isMinimized","conversationHistory","showHistory","windowStyle","position","bottom","right","zIndex","isDragging","dragOffset","x","y","queryExamples","savedPosition","localStorage","getItem","savedVisible","JSON","parse","left","top","e","console","error","watch","newVal","setItem","String","openWindow","rest","closeWindow","toggleMinimize","wasMinimized","savePosition","startDrag","target","closest","rect","currentTarget","getBoundingClientRect","clientX","clientY","document","addEventListener","onDrag","stopDrag","parseInt","Math","max","min","window","innerWidth","innerHeight","removeEventListener","stringify","onBeforeUnmount","handleSearch","trim","requestData","topK","includeReason","map","turn","userQuery","aiResponse","response","recommendApi","ragRecommendBeveragesWithHistory","code","data","recommendationReason","length","slice","wikiContents","beverages","message","clearSearch","clearHistory","toggleHistory","goToBeverageDetail","beverageId","goToWikiPage","wiki","slug","encodeURIComponent","title","toLowerCase","getImageUrl","imageId","formatMarkdown","_Teleport","to","ChatDotRound","_normalizeStyle","minimized","onMousedown","icon","Document","FullScreen","Minus","_hoisted_27","_hoisted_28","Delete","_hoisted_29","_hoisted_30","_component_el_empty","description","_hoisted_31","index","_hoisted_32","User","_toDisplayString","_hoisted_33","rows","maxlength","_withModifiers","example","_component_el_tag","Search","innerHTML","_component_el_skeleton","animated","_hoisted_11","_hoisted_13","summary","_hoisted_14","similarity","_hoisted_15","toFixed","_hoisted_16","_hoisted_17","beverage","coverImageId","_hoisted_19","_hoisted_21","Picture","_hoisted_22","_hoisted_23","origin","_hoisted_24","rating","_hoisted_25","_component_el_rate","disabled","_hoisted_26","components","Header","Footer","RAGFloatingWindow","render","routes","component","meta","requiresAuth","requiresAdmin","requiresSeller","redirect","createRouter","history","createWebHistory","process","onError","pattern","isChunkLoadFailed","match","targetPath","location","pathname","href","beforeEach","from","next","pinia","status","log","waitCount","Promise","resolve","setTimeout","app","createApp","App","Object","entries","ElementPlusIconsVue","use","ElementPlus","mount","login","request","url","method","register","getCurrentUser","cachedProvinces","loadingPromise","normalizeName","useChinaRegions","provinces","ensureLoaded","fetch","res","json","mapped","province","provinceName","cities","citys","city","cityName","finally","result","findCityByName","cityMatch","find","getDefaultCity","firstProvince","circleApi","listPosts","page","pageSize","params","listFeed","listUserPosts","userId","createPost","listPostsByCity","getPost","likePost","favoritePost","getComments","createComment","deletePost","deleteComment","getHotPosts","timeDimension","createPinia","submitting","uploadFileList","thumbnails","inlineInputRef","form","reactive","content","tags","imageIds","selectedCity","regionsLoading","detecting","locating","detectCity","useCityDetection","beforeUpload","file","isImage","isLt5M","handleUploadSuccess","fileList","handleRemove","uid","filter","handleUploadError","triggerInlineUpload","click","handleInlineFiles","files","Array","event","formData","FormData","append","body","credentials","Date","now","random","removeThumbnail","findIndex","item","applyCitySelection","syncLocationWithOptions","locationValue","handleCityChange","handleAutoLocate","showToast","detected","handleSubmit","fillForm","getSnapshot","__expose","resize","_component_el_select","multiple","filterable","onChange","_component_el_option_group","_component_el_option","_component_el_upload","action","accept","Plus","_hoisted_12","cachedCity","pendingPromise","detectedCity","ipdata","info1","adcode","c","info2","defineStore","state","getters","role","actions","setUserInfo","this","err","reject","logoutApi","axios","create","baseURL","timeout","withCredentials","MAX_RETRIES","RETRY_DELAY","RETRY_DELAY_MULTIPLIER","isConnectionError","includes","undefined","shouldSilentRetry","config","silentRetryUrls","some","interceptors","__retryCount","Error","delay","pow","requestUrl","isAuthCheck","isAuthPage","isAuthEndpoint","serverMessage","getRecommendedPosts","getRecommendedUsers","getRecommendedBars","getRecommendedBeverages","getSimilarPosts","postId","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","exports","module","__webpack_modules__","call","m","deferred","O","chunkIds","fn","priority","notFulfilled","Infinity","i","fulfilled","j","keys","every","r","n","getter","__esModule","d","a","definition","o","defineProperty","enumerable","f","chunkId","all","reduce","promises","u","miniCssF","g","globalThis","Function","obj","prop","prototype","hasOwnProperty","inProgress","dataWebpackPrefix","l","script","needAttach","scripts","getElementsByTagName","s","getAttribute","createElement","charset","nc","setAttribute","onScriptComplete","prev","onerror","onload","clearTimeout","doneFns","parentNode","removeChild","forEach","bind","head","appendChild","Symbol","toStringTag","p","createStylesheet","fullhref","oldTag","linkTag","rel","nonce","onLinkComplete","errorType","realHref","insertBefore","nextSibling","findStylesheet","existingLinkTags","tag","dataHref","existingStyleTags","loadStylesheet","installedCssChunks","miniCss","cssChunks","installedChunks","installedChunkData","promise","loadingEnded","realSrc","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","chunkLoadingGlobal","self","__webpack_exports__"],"ignoreList":[],"sourceRoot":""}